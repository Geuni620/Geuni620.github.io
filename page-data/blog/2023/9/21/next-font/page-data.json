{"componentChunkName":"component---src-templates-post-template-tsx","path":"/blog/2023/9/21/next-font/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<p><a href=\"https://github.com/Geuni620/next-font-test\" target=\"_blank\" rel=\"nofollow\">실험 레포</a></p>\n<br>\n<blockquote>\n<p>sign-up 페이지를 작업하다가 font 설정에 대해서 고민하게 됐다.<br>\n적용하려는 font는 google font의 항목 중에 존재하지 않는 font였다.<br>\n그래서 local에 다운받아놓고 사용하게 된다.</p>\n</blockquote>\n<h3 id=\"적용하기\" style=\"position:relative;\"><a href=\"#%EC%A0%81%EC%9A%A9%ED%95%98%EA%B8%B0\" aria-label=\"적용하기 permalink\" class=\"headerElement before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>적용하기</h3>\n<p>적용하는 방법은 크게 두 가지가 생각났다.</p>\n<ol>\n<li>global.css에 다음과 같이 작성한다.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\">// global.css\n<span class=\"token atrule\"><span class=\"token rule\">@tailwind</span> base<span class=\"token punctuation\">;</span></span>\n<span class=\"token atrule\"><span class=\"token rule\">@tailwind</span> components<span class=\"token punctuation\">;</span></span>\n<span class=\"token atrule\"><span class=\"token rule\">@tailwind</span> utilities<span class=\"token punctuation\">;</span></span>\n\n<span class=\"token atrule\"><span class=\"token rule\">@font-face</span></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">font-family</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'hakgyoansim'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token property\">src</span><span class=\"token punctuation\">:</span> <span class=\"token url\"><span class=\"token function\">url</span><span class=\"token punctuation\">(</span><span class=\"token string url\">'/fonts/HakgyoansimWoojuR.ttf'</span><span class=\"token punctuation\">)</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.fontApply</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">font-family</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'hakgyoansim'</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br>\n<ol start=\"2\">\n<li>next/font를 사용한다.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token comment\">// utils/fonts.ts</span>\n<span class=\"token keyword\">import</span> localFont <span class=\"token keyword\">from</span> <span class=\"token string\">'next/font/local'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> hakgyoansim <span class=\"token operator\">=</span> <span class=\"token function\">localFont</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  src<span class=\"token operator\">:</span> <span class=\"token string\">'./HakgyoansimWoojuR.ttf'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/fa9405364b76008c186dc15b37e3f377/9362b/font-test.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 36.97916666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABRUlEQVQoz3WR626jMBSE8/4vVu2/3a2aNGmT0GKIbwRsMJCA+SocabW7Uo800vFYZzSa2SzLQgiBpmnI8xxjDF3XUXtP4Tz5tSUzjk/rKGrPpekwPnBtV/RUbaDygboL+BDYrILTNDEMA33fJ9zvd6y8kGXvVMaipUKVklKUXIoLlVLYskSLAm8tTmt0UWCkZMM3Y45HxI8n+tOB4XSgP+4Jx1fatx3D+Y1q+zthFlni5PNPfm0PD4f/IMaH4McZtd8yW0UnPglljtzv8HmWOHV4Rbw8E63GfZyxp3d2J/G9Q20s9lozx0jbBcIwkBclrm2Z5ojUhlIq5rjQOE/tPON4ezgcxzGVIoTAWpvyNMYipUqFrSWt2WptcM5zu92wVZUwTxPOOerG0YbhIbgKrEfrh/c+7Su3zt9x/P/+wy8LMS7J7Rd9dBaUU0khxQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/fa9405364b76008c186dc15b37e3f377/a59e9/font-test.webp 192w,\n/static/fa9405364b76008c186dc15b37e3f377/0ca9f/font-test.webp 384w,\n/static/fa9405364b76008c186dc15b37e3f377/dc9b9/font-test.webp 768w,\n/static/fa9405364b76008c186dc15b37e3f377/e2c2f/font-test.webp 1152w,\n/static/fa9405364b76008c186dc15b37e3f377/f3efb/font-test.webp 1536w,\n/static/fa9405364b76008c186dc15b37e3f377/b1fe3/font-test.webp 3760w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/fa9405364b76008c186dc15b37e3f377/3b721/font-test.png 192w,\n/static/fa9405364b76008c186dc15b37e3f377/66595/font-test.png 384w,\n/static/fa9405364b76008c186dc15b37e3f377/fe486/font-test.png 768w,\n/static/fa9405364b76008c186dc15b37e3f377/d2d74/font-test.png 1152w,\n/static/fa9405364b76008c186dc15b37e3f377/e8464/font-test.png 1536w,\n/static/fa9405364b76008c186dc15b37e3f377/9362b/font-test.png 3760w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/fa9405364b76008c186dc15b37e3f377/fe486/font-test.png\"\n            alt=\"fonts\"\n            title=\"fonts\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">fonts</figcaption>\n  </figure></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">둘 다 Fast 3G로 테스트했다.\n\nnext/font → 6.56s\nglobal.css → 6.64s</code></pre></div>\n<br>\n<p>테스트하고 보니, 깜빡임현상(font가 다운로드되고 변경되는)이 <strong>layout shift</strong>라고 생각하고 있었다.<br>\n하지만, <a href=\"https://blog.mathpresso.com/how-next-font-works-8bb72c2bae39\" target=\"_blank\" rel=\"nofollow\">이 글에서</a> layout shift 현상이 next.js 13version에선 나타나지 않는 것을 확인할 수 있다.</p>\n<br>\n<p>UI에서 새로고침을 했을 때 font가 fallback 상태일 때, 제공되는 font와 font 다운로드가 완료되고 적용되었을 때 font의 차이가 있으면 왜 신경쓰이는 걸까…<br>\n그래서 조금이라도 더 빨리 적용되는 next/font로 적용해서 사용하고 있다.</p>\n<br>\n<h3 id=\"참고자료\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EA%B3%A0%EC%9E%90%EB%A3%8C\" aria-label=\"참고자료 permalink\" class=\"headerElement before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>참고자료</h3>\n<p><a href=\"https://youtu.be/L8_98i_bMMA?si=ou80EcPUz9HGnx3L\" target=\"_blank\" rel=\"nofollow\">Using Fonts in Next.js (Google Fonts, Local Fonts, Tailwind CSS)</a></p>\n<p><a href=\"https://nextjs.org/docs/app/building-your-application/optimizing/fonts\" target=\"_blank\" rel=\"nofollow\">Font Optimization</a></p>\n<p><a href=\"https://blog.mathpresso.com/how-next-font-works-8bb72c2bae39\" target=\"_blank\" rel=\"nofollow\">How @next/font works</a></p>","tableOfContents":"<ul>\n<li><a href=\"#%EC%A0%81%EC%9A%A9%ED%95%98%EA%B8%B0\">적용하기</a></li>\n<li><a href=\"#%EC%B0%B8%EA%B3%A0%EC%9E%90%EB%A3%8C\">참고자료</a></li>\n</ul>","frontmatter":{"title":"app directory에서 font를 설정해보자~!","summary":"css로 font를 적용했을 때와, next/font로 적용했을 때 무엇이 더 빠를까?","date":"2023.09.21.","categories":["개발"]}}}]}},"pageContext":{"slug":"/blog/2023/9/21/next-font/"}},"staticQueryHashes":["1629908903"]}