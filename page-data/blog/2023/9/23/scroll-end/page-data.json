{"componentChunkName":"component---src-templates-post-template-tsx","path":"/blog/2023/9/23/scroll-end/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<blockquote>\n<p>현재 만들고 있는 ‘기록’ 앱은, 카카오톡의 ‘나와의 채팅하기’와 유사하다.<br>\n채팅창에 메시지를 남기면, ‘나와의 채팅하기’처럼 기록을 남길 수 있다.<br>\n처음 ‘나와의 채팅하기’에 들어왔을 때, 또는 기록을 남긴 후 가장 최근에 남긴 기록을 먼저보고 싶을때 등..\n스크롤을 이용해서 가장 하단에 위치시키는 방법을 알아보자.</p>\n</blockquote>\n<br>\n<h3 id=\"scrollintoview\" style=\"position:relative;\"><a href=\"#scrollintoview\" aria-label=\"scrollintoview permalink\" class=\"headerElement before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>scrollIntoView</h3>\n<ul>\n<li>scrollIntoView 메서드를 사용하면, 사용자가 해당 페이지에 접속했을 때 원하는 위치로 이동시켜줄 수 있다.</li>\n<li>나의 경우엔 <strong>가장 하단</strong>으로 이동시키기 위해 다음과 같이 코드를 작성했다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token comment\">// record.tsx</span>\n<span class=\"token string\">'use client'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> Record<span class=\"token operator\">:</span> React<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">FC</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> messageEndRef <span class=\"token operator\">=</span> <span class=\"token generic-function\"><span class=\"token function\">useRef</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>HTMLDivElement<span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>messageEndRef<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      messageEndRef<span class=\"token punctuation\">.</span>current<span class=\"token operator\">?.</span><span class=\"token function\">scrollIntoView</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        behavior<span class=\"token operator\">:</span> <span class=\"token string\">'smooth'</span><span class=\"token punctuation\">,</span>\n        block<span class=\"token operator\">:</span> <span class=\"token string\">'end'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>messages<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>section</span> <span class=\"token attr-name\">ref</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>messageEndRef<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>relative mt-[100px] h-full<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      // ... 생략\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">MemoizedMessageList</span></span>\n        <span class=\"token attr-name\">messageList</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>messages<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">}</span></span>\n        <span class=\"token attr-name\">userEmail</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>userEmail<span class=\"token punctuation\">}</span></span>\n        <span class=\"token attr-name\">token</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>token<span class=\"token punctuation\">}</span></span>\n      <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>section</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Record<span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>위와 같이 작성하면, 최하단으로 scroll을 smooth하게 내려준다.</li>\n<li>하지만 이상하게, 최하단에 input tag가 존재하는데, 끝까지 내려주지 않는다.</li>\n<li>그래서 input tag를 클릭하기 위해 사용자가 스크롤을 한 번정도 더 내려줘야 가장 하단으로 이동한다.</li>\n</ul>\n<br>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\">  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>messageEndRef<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'messagesRef height'</span><span class=\"token punctuation\">,</span> messageEndRef<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">.</span>scrollHeight<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// log로 높이를 한번 확인해보자</span>\n      messageEndRef<span class=\"token punctuation\">.</span>current<span class=\"token operator\">?.</span><span class=\"token function\">scrollIntoView</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        behavior<span class=\"token operator\">:</span> <span class=\"token string\">'smooth'</span><span class=\"token punctuation\">,</span>\n        block<span class=\"token operator\">:</span> <span class=\"token string\">'end'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>messages<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/85e97dc624f61dd81da7ada4ae7449a1/10796/console-log-scrollIntoView.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 24.479166666666668%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAABJElEQVQY002KyUsCUQCH5/+/d/EihlmigZajB61wXyrSIlDBmdzGeW/GWYxyLPQLHxEdPn6rZmUTrLIJnPwZViaJd5VlX9PZ14rsq7riUC9xqJVUd/THblvJ4+RSGMkYi3SceTrO+vQEzXwts5rUkdMOttHCNpo40w7CbGIbDZxZV+1Hr7L6NdiIAVE4xl32scwectHnwx2iickd9ryNmLcUvnzCnrdYmnXkoou7elDZeqsrlVYPueziWD3C9TOBO8ATjwROn6/IRAvEkNmozXJyj7N4wRcjPn2DbWAShVOizZTd++yv221mKodyTCBH+GJIIEbKH/+ayJ2zvs7gFbJ4hQy+fklY1KFRhuZ/Kr+U1fZdLbG71YluCrj5C2Q+zSYV4weaumAd6fNrMgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/85e97dc624f61dd81da7ada4ae7449a1/a59e9/console-log-scrollIntoView.webp 192w,\n/static/85e97dc624f61dd81da7ada4ae7449a1/0ca9f/console-log-scrollIntoView.webp 384w,\n/static/85e97dc624f61dd81da7ada4ae7449a1/dc9b9/console-log-scrollIntoView.webp 768w,\n/static/85e97dc624f61dd81da7ada4ae7449a1/e2c2f/console-log-scrollIntoView.webp 1152w,\n/static/85e97dc624f61dd81da7ada4ae7449a1/28d16/console-log-scrollIntoView.webp 1354w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/85e97dc624f61dd81da7ada4ae7449a1/3b721/console-log-scrollIntoView.png 192w,\n/static/85e97dc624f61dd81da7ada4ae7449a1/66595/console-log-scrollIntoView.png 384w,\n/static/85e97dc624f61dd81da7ada4ae7449a1/fe486/console-log-scrollIntoView.png 768w,\n/static/85e97dc624f61dd81da7ada4ae7449a1/d2d74/console-log-scrollIntoView.png 1152w,\n/static/85e97dc624f61dd81da7ada4ae7449a1/10796/console-log-scrollIntoView.png 1354w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/85e97dc624f61dd81da7ada4ae7449a1/fe486/console-log-scrollIntoView.png\"\n            alt=\"scroll이 최하단까지 닿지 못한다.\"\n            title=\"scroll이 최하단까지 닿지 못한다.\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">scroll이 최하단까지 닿지 못한다.</figcaption>\n  </figure></p>\n<ul>\n<li>진행도중 여러 방면으로 (네트워크, style, layout shift 등) 찾아봤지만 원인을 발견하지 못했었다.</li>\n</ul>\n<br>\n<h3 id=\"resizeobserver\" style=\"position:relative;\"><a href=\"#resizeobserver\" aria-label=\"resizeobserver permalink\" class=\"headerElement before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>resizeObserver</h3>\n<ul>\n<li>방안을 모색해보다가, <code class=\"language-text\">resizeObserver</code>를 알게됐다.</li>\n<li>요소의 크기 변화를 관찰하고, 변화가 있을 때마다 어떤 동작을 실행시켜주는 함수다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\">  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>messageEndRef<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">const</span> resizeObserver <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ResizeObserver</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        messageEndRef<span class=\"token punctuation\">.</span>current<span class=\"token operator\">?.</span><span class=\"token function\">scrollIntoView</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n          behavior<span class=\"token operator\">:</span> <span class=\"token string\">'smooth'</span><span class=\"token punctuation\">,</span>\n          block<span class=\"token operator\">:</span> <span class=\"token string\">'end'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n      resizeObserver<span class=\"token punctuation\">.</span><span class=\"token function\">observe</span><span class=\"token punctuation\">(</span>messageEndRef<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n      <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>messageEndRef<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          resizeObserver<span class=\"token punctuation\">.</span><span class=\"token function\">unobserve</span><span class=\"token punctuation\">(</span>messageEndRef<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>messages<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>그래서 위와 같이 적용해주었다. messages.data는 useQuery를 통해 가져오는 데이터인데, 이 데이터가 변화할 때마다 scrollIntoView를 실행시켜주는 것이다.</li>\n</ul>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/50b3374a39c6e9bf4bbfc0a962ee1a16/45416/console.log-resizeObserver.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 4.6875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAP0lEQVQI12XFMQ6AIAxAUe9/SuJAE1mwKm0V+SY6Ory8SSQheaYshTM2wpUI/XalXzvjbn/9eGcY1iqSE24rDy28TVsAGc2vAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/50b3374a39c6e9bf4bbfc0a962ee1a16/a59e9/console.log-resizeObserver.webp 192w,\n/static/50b3374a39c6e9bf4bbfc0a962ee1a16/0ca9f/console.log-resizeObserver.webp 384w,\n/static/50b3374a39c6e9bf4bbfc0a962ee1a16/dc9b9/console.log-resizeObserver.webp 768w,\n/static/50b3374a39c6e9bf4bbfc0a962ee1a16/e2c2f/console.log-resizeObserver.webp 1152w,\n/static/50b3374a39c6e9bf4bbfc0a962ee1a16/f3efb/console.log-resizeObserver.webp 1536w,\n/static/50b3374a39c6e9bf4bbfc0a962ee1a16/bfa38/console.log-resizeObserver.webp 2080w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/50b3374a39c6e9bf4bbfc0a962ee1a16/3b721/console.log-resizeObserver.png 192w,\n/static/50b3374a39c6e9bf4bbfc0a962ee1a16/66595/console.log-resizeObserver.png 384w,\n/static/50b3374a39c6e9bf4bbfc0a962ee1a16/fe486/console.log-resizeObserver.png 768w,\n/static/50b3374a39c6e9bf4bbfc0a962ee1a16/d2d74/console.log-resizeObserver.png 1152w,\n/static/50b3374a39c6e9bf4bbfc0a962ee1a16/e8464/console.log-resizeObserver.png 1536w,\n/static/50b3374a39c6e9bf4bbfc0a962ee1a16/45416/console.log-resizeObserver.png 2080w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/50b3374a39c6e9bf4bbfc0a962ee1a16/fe486/console.log-resizeObserver.png\"\n            alt=\"resizObserver 적용 후\"\n            title=\"resizObserver 적용 후\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">resizObserver 적용 후</figcaption>\n  </figure></p>\n<ul>\n<li>resizeObserver가 적용되면, 1927로 log가 찍히고 바로 뒤에 2023으로 찍혀 최하단으로 스크롤을 이동시킬 수 있었다.</li>\n<li>그래서 처음 채팅방에 들어오면 scrollIntoView만 적용했을 때와 달리 최하단으로 이동시킬 수 있다.</li>\n</ul>\n<br>\n<p>하지만 이것 역시 문제가 있다.</p>\n<ul>\n<li>next.js <a href=\"https://nextjs.org/docs/app/api-reference/components/image\" target=\"_blank\" rel=\"nofollow\">next/image</a>를 사용하면 lazy loading이 되는데, 스크롤을 올리며 이전 기록들을 보며 이미지를 확인하려고 할 때, image가 불러와지니 resizeObserver가 동작한다.</li>\n<li>그러면 스크롤을 올리고 싶은 사용자의 마음과 반대로 최하단으로 스크롤이 내려가버린다.</li>\n</ul>\n<br>\n<h3 id=\"image의-priority\" style=\"position:relative;\"><a href=\"#image%EC%9D%98-priority\" aria-label=\"image의 priority permalink\" class=\"headerElement before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Image의 priority</h3>\n<ul>\n<li>next/image의 <code class=\"language-text\">priority</code>는 lazy loading을 끄는 동작이다.</li>\n<li>이로인해 처음 record 페이지에 들어가자마자, 이미지는 모두 불러와진 상태일 것이다.</li>\n</ul>\n<p><strong>- 이 부분은 지금 작업 중인 이미지 최적화가 끝나면 다시 작성하려고 한다.</strong></p>\n<br>\n<h3 id=\"원인-발견\" style=\"position:relative;\"><a href=\"#%EC%9B%90%EC%9D%B8-%EB%B0%9C%EA%B2%AC\" aria-label=\"원인 발견 permalink\" class=\"headerElement before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>원인 발견</h3>\n<ul>\n<li>이 글을 작성하며 스크롤이 최하단으로 이동하지 않는 원인을 발견했다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token comment\">// Record.tsx</span>\n<span class=\"token string\">'use client'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> Record<span class=\"token operator\">:</span> React<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">FC</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> messageEndRef <span class=\"token operator\">=</span> <span class=\"token generic-function\"><span class=\"token function\">useRef</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>HTMLDivElement<span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>messageEndRef<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      messageEndRef<span class=\"token punctuation\">.</span>current<span class=\"token operator\">?.</span><span class=\"token function\">scrollIntoView</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        behavior<span class=\"token operator\">:</span> <span class=\"token string\">'smooth'</span><span class=\"token punctuation\">,</span>\n        block<span class=\"token operator\">:</span> <span class=\"token string\">'end'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>messages<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>section</span> <span class=\"token attr-name\">ref</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>messageEndRef<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>relative mt-[100px] h-full<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      // ... 생략\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">MemoizedMessageList</span></span>\n        <span class=\"token attr-name\">messageList</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>messages<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">}</span></span>\n        <span class=\"token attr-name\">userEmail</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>userEmail<span class=\"token punctuation\">}</span></span>\n        <span class=\"token attr-name\">token</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>token<span class=\"token punctuation\">}</span></span>\n      <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>section</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Record<span class=\"token punctuation\">;</span></code></pre></div>\n<br>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token comment\">// MoreButton.tsx</span>\n<span class=\"token keyword\">import</span> Image <span class=\"token keyword\">from</span> <span class=\"token string\">'next/image'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> Dot <span class=\"token keyword\">from</span> <span class=\"token string\">'public/temp-icon/more-nobg.svg'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> MoreButton<span class=\"token operator\">:</span> React<span class=\"token punctuation\">.</span><span class=\"token constant\">FC</span><span class=\"token operator\">&lt;</span>MoreButtonProps<span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      // 원인의 Image\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Image</span></span>\n        <span class=\"token attr-name\">src</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>Dot<span class=\"token punctuation\">}</span></span>\n        <span class=\"token attr-name\">alt</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>more-btn<span class=\"token punctuation\">\"</span></span>\n        <span class=\"token attr-name\">width</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">20</span><span class=\"token punctuation\">}</span></span>\n        <span class=\"token attr-name\">height</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">20</span><span class=\"token punctuation\">}</span></span>\n        <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>p-2<span class=\"token punctuation\">\"</span></span>\n        <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>onDropdownClick<span class=\"token punctuation\">}</span></span>\n      <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n\n      // 이와 같이 수정하면 해결\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>relative h-5 w-5 p-2<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Image</span></span> <span class=\"token attr-name\">src</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>Dot<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">alt</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>more-btn<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">fill</span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> MoreButton<span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>위 Dot은 svg파일의 아이콘인데, 다음과 같은 크기를 가지고 있다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">// more-nobg.svg\n\n&lt;svg width=\"3\" height=\"12\">&lt;/svg></code></pre></div>\n<ul>\n<li>여기서 width와 height값이 지정되어 있는데, 이는 figma에서 svg를 그대로 복붙한 값이다.</li>\n<li>위에서 resizeObserver를 사용하면 log가 두 개 찍히는데, 그 차이는 <strong>60</strong>이었다.</li>\n<li><strong>message를 6개 남겼을 때 60이 찍힌 것이다.</strong></li>\n<li>맨 위의 메시지는 default라서 제외하면 <strong>딱 5개, 즉 12의 차가 계속 누적으로 발생하는 것 같았다.</strong></li>\n</ul>\n<br>\n<ul>\n<li>MoreButton 컴포넌트 내에서도 어떤게 문제인지 확인해보다가,<br>\nImage의 Dot svg를 확인하니, <strong>height가 20보다 12만큼 더 큰 32로 적용되어 있는 것을 발견했다.</strong></li>\n</ul>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 334px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/0b8e357ff6f371f7b70b18856f881bf8/ce235/image-32.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 91.14583333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAABYlAAAWJQFJUiTwAAACrElEQVQ4y6VU227aQBDl/7+gL31sn/rcSlWjphK3AiaAba5LcILv4CvYgG041QwxIWmjPHSk0S6zcHbOmbNUmrffIMYyLGuBKLSR7UJkiYc89TnTaP1X7rd0FiFcmdjEMU6nE7IsQxxvUEnWjygOOSItQqiF2PkpPO8Ay95hOArxr3BXaxiGiSzL4fs+dF1nwCAIUPGMGdJ4C/XLANLHJhofGvj0WeD21sDNjc4A1EGZFEIIjMdjWJaJ+XwORVGQHQ4MXvGNGbLD/nJ7nuR4+t0lTleF0+vDq/A8D5XAFEi2GyiKiq7URa/fQ7crYTgcYTyeoCiKF11SHI9HXpXhGF+/32CgDJGmuzNl3xDYpQkLulwuoWkaTNOE4zgYjUbI85yBCKQELNe15+OuL+NxaeDwFuX34i3KVGfKJeBiscBsNrsILssyVFXFZDLhrkl86pyCZCiTGNBKDDzPf6Y8kGUGoZQkCbVaDc1mk/f9fp8vtG37PLgnkBKoTAb09P+jXA7oQnnjLHjKvV4f1WqVu+l0Ooii6AU9CtOy0Wh10GxLqNZ/ozdQ8OPnL67tdk9TVrt1pkxOX61WSNOUb6KpvbYLnfl+AMt24LguO8PzA2y2W77Uoyk/PGhIkoTFpySrEHhJ5/UruQ7bcSCrI0ym4rnDQ5ZxN+v1moWfTqeX7t4L8uFCe0St2UIUxwjDEBXTNJiK67pciOOYqdNttNJFZHI6pxppSzV6BPSZzBwGwXnKRFkXCpJki8l0ilarhXa7zYMhu5BtyJvkwdI+lLVqDY1Gg797f3/P/zZkJX4pkTVHut2wRjnR3+9xPNJk88vK+6LA6XS8skvBNdKOZkC6s20SV4OjDaHPBtCFDGOuQBfnfVnjupAhBhJMzcBcUWCIAUZ3dYjZlKmSDCTHHyeiT3OYi5wvAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/0b8e357ff6f371f7b70b18856f881bf8/a59e9/image-32.webp 192w,\n/static/0b8e357ff6f371f7b70b18856f881bf8/cfe07/image-32.webp 334w\"\n              sizes=\"(max-width: 334px) 100vw, 334px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/0b8e357ff6f371f7b70b18856f881bf8/3b721/image-32.png 192w,\n/static/0b8e357ff6f371f7b70b18856f881bf8/ce235/image-32.png 334w\"\n            sizes=\"(max-width: 334px) 100vw, 334px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/0b8e357ff6f371f7b70b18856f881bf8/ce235/image-32.png\"\n            alt=\"image height가 32px로 적용되어 있었다. \"\n            title=\"image height가 32px로 적용되어 있었다. \"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">image height가 32px로 적용되어 있었다. </figcaption>\n  </figure></p>\n<br>\n<ul>\n<li>그래서 div태그로 감싼 후 fill속성을 사용해서 해결하는 방법이 있고,</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>relative h-5 w-5 p-2<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Image</span></span> <span class=\"token attr-name\">src</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>Dot<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">alt</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>more-btn<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">fill</span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<br>\n<ul>\n<li>more-nobg.svg의 width와 height값을 다음과 같이 수정할 수 있다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&lt;svg width=\"5\" height=\"5\" viewBox=\"0 0 3 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n\n&lt;/svg></code></pre></div>\n<br>\n<h3 id=\"느낀-점\" style=\"position:relative;\"><a href=\"#%EB%8A%90%EB%82%80-%EC%A0%90\" aria-label=\"느낀 점 permalink\" class=\"headerElement before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>느낀 점</h3>\n<ul>\n<li>회사에서 개발을 진행하다보면, 너무너무 궁금해서 넘어가지 못하는 상황들을 많이 접하게 된다. 원인이 어찌됐건, 일정에 맞게 개발을 진행하고 싶은데, 이게 너무 궁금해서 넘어가지 못하는 상황.</li>\n<li>그러다보면 자연스럽게 일을 더하게 되고, 집에와서도 찾아보게 된다.</li>\n<li>개발이 재밌고 즐겁지만, 문제를 해결하지 못해서 앞으로 나아가지 못할 때의 기분은 답답하다. 그래서 온전히 문제에 집중하게 된다.</li>\n</ul>\n<br>\n<ul>\n<li>하지만 일단 원인이 무엇인지 모르더라도, 그냥 쭉 밀고 가보는 것이다.</li>\n<li>책을 읽을 때의 경험과 비슷하다. 앞의 내용이 기억나지 않더라도 일단 쭉 읽어본 후, 다시 돌아와서 읽어보는 것이다.</li>\n<li>그러다보면 문제 해결을 위해 글을 쓰는 이 순간처럼 원인이 무엇인지 발견해서 수정할 수 있는 날도 오게 된다.</li>\n</ul>\n<br>\n<ul>\n<li>처음부터 완벽하게 만들 순 없다. 코드도 그렇고 프로덕트도 그렇다.</li>\n</ul>\n<br>\n<h3 id=\"참고자료\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EA%B3%A0%EC%9E%90%EB%A3%8C\" aria-label=\"참고자료 permalink\" class=\"headerElement before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>참고자료</h3>\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollIntoView\" target=\"_blank\" rel=\"nofollow\">MDN scrollIntoView() method</a></p>\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/ResizeObserver\" target=\"_blank\" rel=\"nofollow\">MDN ResizeObserver</a></p>\n<p><a href=\"https://kyounghwan01.github.io/blog/React/event-scroll-bottom/#ref-%E1%84%82%E1%85%A5%E1%87%82%E1%84%8B%E1%85%B3%E1%86%AF-%E1%84%90%E1%85%A1%E1%84%80%E1%85%A6%E1%86%BA-%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8C%E1%85%A5%E1%86%BC\" target=\"_blank\" rel=\"nofollow\">이벤트 발생시 스크롤 맨 밑으로 내리기</a></p>\n<p><a href=\"https://devbirdfeet.tistory.com/261\" target=\"_blank\" rel=\"nofollow\">JavaScript - scrollIntoView() 이란</a></p>","tableOfContents":"<ul>\n<li><a href=\"#scrollintoview\">scrollIntoView</a></li>\n<li><a href=\"#resizeobserver\">resizeObserver</a></li>\n<li><a href=\"#image%EC%9D%98-priority\">Image의 priority</a></li>\n<li><a href=\"#%EC%9B%90%EC%9D%B8-%EB%B0%9C%EA%B2%AC\">원인 발견</a></li>\n<li><a href=\"#%EB%8A%90%EB%82%80-%EC%A0%90\">느낀 점</a></li>\n<li><a href=\"#%EC%B0%B8%EA%B3%A0%EC%9E%90%EB%A3%8C\">참고자료</a></li>\n</ul>","frontmatter":{"title":"스크롤 가장 하단으로 이동시키기","summary":"채팅의 기록을 남길 때, 가장 최근에 남긴 기록을 최하단에서 보고싶을 때","date":"2023.09.23.","categories":["개발"]}}}]}},"pageContext":{"slug":"/blog/2023/9/23/scroll-end/"}},"staticQueryHashes":["1629908903"]}