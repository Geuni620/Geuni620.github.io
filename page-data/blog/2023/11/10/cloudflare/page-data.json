{"componentChunkName":"component---src-templates-post-template-tsx","path":"/blog/2023/11/10/cloudflare/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<blockquote>\n<p>회사에선 AWS EC2에 배포를 한다.<br>\n예전 <a href=\"https://deep.jejodo.life/\" target=\"_blank\" rel=\"nofollow\">조직문화 블로그</a>를 만들 때는, 초반 vercel을 이용했다.<br>\n이전 vercel 서버리스 API 경로가 5초를 초과하면 504 게이트웨이 시간초과 오류를 응답하는데,<br>\n이땐 요금제를 올려야했다.<br>\n도쿠사우르스 TIL-docs는 netlify로 배포해보려고 했지만, 안해봤던 것을 해보고 싶어서 cloudflare로 배포해보기로 했다.</p>\n</blockquote>\n<p><a href=\"https://jojoldu.tistory.com/657\" target=\"_blank\" rel=\"nofollow\">CloudFlare Pages로 Next.js 서비스 배포하기</a><br>\n사실 배포방법은 위 글보다 더 자세히 쓸 자신이 없다.<br>\n그래서 내가 쓰려고 하는 내용은,<br>\n<strong>main으로 merge 했을 때, github action을 이용해서 Deploy 하는 방법</strong> 이다.</p>\n<br/>\n<h3 id=\"github-action-with-cloudflare-pages\" style=\"position:relative;\"><a href=\"#github-action-with-cloudflare-pages\" aria-label=\"github action with cloudflare pages permalink\" class=\"headerElement before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Github Action with Cloudflare Pages</h3>\n<p>먼저 도쿠사우르스 레포 내에 <code class=\"language-text\">.github/workflows/pages-deployment.yaml</code> 경로로 파일을 생성해줬다.<br>\n아래와 같이 작성해주었는데,</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token comment\"># main으로 merge 되었을 때 배포자동화 스크립트가 실행되었으면 좋겠다.</span>\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">push</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> main\n\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">deploy</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n    <span class=\"token key atrule\">permissions</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">contents</span><span class=\"token punctuation\">:</span> read\n      <span class=\"token key atrule\">deployments</span><span class=\"token punctuation\">:</span> write\n    <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Deploy to Cloudflare Pages\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Checkout\n        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v3\n      <span class=\"token comment\"># Run your project's build step</span>\n      <span class=\"token comment\"># - name: Build</span>\n      <span class=\"token comment\">#   run: npm install &amp;&amp; npm run build</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Publish\n        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> cloudflare/pages<span class=\"token punctuation\">-</span>action@1\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">apiToken</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.CLOUDFLARE_API_TOKEN <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n          <span class=\"token key atrule\">accountId</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.CLOUDFLARE_ACCOUNT_ID <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n          <span class=\"token key atrule\">projectName</span><span class=\"token punctuation\">:</span> til<span class=\"token punctuation\">-</span>docs <span class=\"token comment\"># cloudflare workers name을 작성하면 된다.</span>\n          <span class=\"token key atrule\">directory</span><span class=\"token punctuation\">:</span> ./ <span class=\"token comment\"># 배포할 디렉토리를 작성하면 된다, build 파일로 경로를 지정해줘야하는 듯 했으나, 루트로 지정해주면 적용되더라</span>\n          <span class=\"token key atrule\">gitHubToken</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.GITHUB_TOKEN <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></code></pre></div>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a3b6c7159e3963ea06edc6412db0bca2/37cfc/workers-name.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 19.791666666666668%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAeElEQVQY05WQ3QrDIAxGff933Aq7GdgZq6k2BfUr6bD0pnQ7EAj5OYSYvFaMxHCfESKC1hpKKai13kafyznDe7/vm7g0vN6E4fnAnBIUlf4DM8Na+xWmmTF5AhHBOYcY4yH9NTp6rVlEEELYhSrT4ll4xbnfc33BBndBOnPGs9pYAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/a3b6c7159e3963ea06edc6412db0bca2/a59e9/workers-name.webp 192w,\n/static/a3b6c7159e3963ea06edc6412db0bca2/0ca9f/workers-name.webp 384w,\n/static/a3b6c7159e3963ea06edc6412db0bca2/dc9b9/workers-name.webp 768w,\n/static/a3b6c7159e3963ea06edc6412db0bca2/e2c2f/workers-name.webp 1152w,\n/static/a3b6c7159e3963ea06edc6412db0bca2/6b378/workers-name.webp 1492w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/a3b6c7159e3963ea06edc6412db0bca2/3b721/workers-name.png 192w,\n/static/a3b6c7159e3963ea06edc6412db0bca2/66595/workers-name.png 384w,\n/static/a3b6c7159e3963ea06edc6412db0bca2/fe486/workers-name.png 768w,\n/static/a3b6c7159e3963ea06edc6412db0bca2/d2d74/workers-name.png 1152w,\n/static/a3b6c7159e3963ea06edc6412db0bca2/37cfc/workers-name.png 1492w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/a3b6c7159e3963ea06edc6412db0bca2/fe486/workers-name.png\"\n            alt=\"workers name을 til-docs이다.\"\n            title=\"workers name을 til-docs이다.\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">workers name을 til-docs이다.</figcaption>\n  </figure></p>\n<br/>\n<p>그 다음으로 token을 발급해야한다.</p>\n<br/>\n<p>여기서 나는 시행착오를 겪었는데, 결국 cloudflare docs내에 모두 상세히 적혀있었다.</p>\n<p><a href=\"https://developers.cloudflare.com/pages/how-to/use-direct-upload-with-continuous-integration/#get-credentials-from-cloudflare\" target=\"_blank\" rel=\"nofollow\">#Get credentials from Cloudflare</a></p>\n<br/>\n<h3 id=\"api-token\" style=\"position:relative;\"><a href=\"#api-token\" aria-label=\"api token permalink\" class=\"headerElement before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>API Token</h3>\n<ol>\n<li>해당 내용을 확인하면, <a href=\"https://dash.cloudflare.com/profile/api-tokens\" target=\"_blank\" rel=\"nofollow\">Cloudflare dashboard</a>를 들어간다.</li>\n<li>상단에 Create Token을 클릭한다.</li>\n<li>페이지 이동 후, 가장 하단에, Create Custom Token을 누른다.</li>\n<li>User API Tokens가 뜨는데, 여기서 빨간박스 부분만 작성해 준 뒤 Continue to summary를 누른다.</li>\n</ol>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a16577213c340d4a98f879e203e1821b/5c1e2/user-api-token.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 115.10416666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAYAAAALHW+jAAAACXBIWXMAABYlAAAWJQFJUiTwAAACo0lEQVQ4y6WUa24bNxRGZ43tJvq7y8kC+qtrKFAUbZAATeokrh0pVmSPZkbSvIfz4vMUpCzVQhq3dgkcXeqK/HjvN0NFWZqQbGJWN5+I725ZLhc0TYMfzjn/8TeHJI+NqKwF6b4hyz0du7xCyvkk6I4i/1VQWZikYVaGfpQY687ETvFe7HE5iLJXv7B69Svbi98pLi+orz/ALnlACvEKtDqv9itE7Ye3FJ0IvnVC0HaCfhgw1h4ATHKLm6dTpY8RDW9ehqraq/fUf75jvLnGxJ/RdyuMZ7PGXF3AIEBrkDPuHh4QckoSid9+on7/Frm4xH5eYFYfz9CfrtCrBTq5Dbjt5mDFNgnzQBZDsYPrd0Tet7QVNOMYWt81LduqISvr8L2TinoYaYeRZhiZjKWfJaM2aEBBiPUk6RaXRN0fr2nKAiVa+rKg3maUaUK+iWnzHboXKNEF/HxsaqosZahKpOiYuzb8Fq/X7F7+TDQsF5Q3a3S6wWYxKrlFbdbIeB3mJo0x6d19PMx1yN+F9SaLQ5z9+tVHIjFLylZQdYJJaf7viMoiJ99vqauSqiwpioLSWyAlWqkzfM45e3jZv8DirCVqxcSu7MMN8clpmhBCMM8zWuszlFJfETsQKpylYhjnICBDBe7Z7fq9UVmWbLdb0jQly7LQsr81dV0Huq6j7/sTvnofh2E4y1trDxXmeR4Ej4v3+/1JqG3bsNEYE1o+xuP8Ice2Iy/iBbw/vmXv4XHTcZE//d84HhJJDe1g0cb9oydPIbQ8DCNSKrQ2p5Z8tUdPnvKQQstVVZHv9/i4C/41wTcv/JwqI7/RvzLOarSawJkHJz7jplh7UBazoxmhHhzt6I12T64uVJgmCYvlku9/tHzzwvHtC8d3PzhGefgPfqrgX4Bb+bJAtcb/AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/a16577213c340d4a98f879e203e1821b/a59e9/user-api-token.webp 192w,\n/static/a16577213c340d4a98f879e203e1821b/0ca9f/user-api-token.webp 384w,\n/static/a16577213c340d4a98f879e203e1821b/dc9b9/user-api-token.webp 768w,\n/static/a16577213c340d4a98f879e203e1821b/e2c2f/user-api-token.webp 1152w,\n/static/a16577213c340d4a98f879e203e1821b/f3efb/user-api-token.webp 1536w,\n/static/a16577213c340d4a98f879e203e1821b/d38a2/user-api-token.webp 1812w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/a16577213c340d4a98f879e203e1821b/3b721/user-api-token.png 192w,\n/static/a16577213c340d4a98f879e203e1821b/66595/user-api-token.png 384w,\n/static/a16577213c340d4a98f879e203e1821b/fe486/user-api-token.png 768w,\n/static/a16577213c340d4a98f879e203e1821b/d2d74/user-api-token.png 1152w,\n/static/a16577213c340d4a98f879e203e1821b/e8464/user-api-token.png 1536w,\n/static/a16577213c340d4a98f879e203e1821b/5c1e2/user-api-token.png 1812w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/a16577213c340d4a98f879e203e1821b/fe486/user-api-token.png\"\n            alt=\"빨간 부분 채우고 Continue to summary 클릭\"\n            title=\"빨간 부분 채우고 Continue to summary 클릭\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">빨간 부분 채우고 Continue to summary 클릭</figcaption>\n  </figure></p>\n<ol start=\"5\">\n<li>그리고 생성된 Token을 복사한다</li>\n<li>github repo로 페이지를 이동한다</li>\n<li>repo내에서 Settings > 왼쪽 탭에서 Secrets > New repository secret을 클릭한다.</li>\n<li>Name와 Secret를 저장한다. CLOUDFLARE_API_TOKEN으로 Name을 지정해서 저장했다.</li>\n</ol>\n<br>\n<h3 id=\"account-id\" style=\"position:relative;\"><a href=\"#account-id\" aria-label=\"account id permalink\" class=\"headerElement before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Account ID</h3>\n<p>이제 나머지 한 개의 Token을 더 추가해주자.</p>\n<bf>\n<ol>\n<li>Cloudflare Wokers > overview로 이동한다.</li>\n<li>오른쪽을 확인하면 Account ID가 있다 이를 복사한다.</li>\n</ol>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/280a6f3eeaa274d7ad270bbee247eb0c/35cde/account-id.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53.645833333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABhElEQVQoz52Sy47UMBRE8///wgqJHb+A1GKDhBi1Zroh/Uji+O3Y1wfZ3TMwmsUIrlQb67p8qpJhmiastbw/9a42glKKeVFMOiEit41aGXa7HT8eHliNQ1uPsR5rHat26HZmLCUnbISPu8qHL/B9FJbryLIofEiUkpvbzVDrFecjZxW5qMi0RpTxnObQpUzsZC7B52/w6SvsJwgp4LdCrpVUhCS18w9aa1KK/YUsb4PmbcP7QJUCuVVTIBq2w556OiLjARmPyK8nanAMatWE4ElbRjkhZaGKUER6hBACxhi2bWNRK9OiSMZg9o+EwwHOP+F0vCkGhvF87Rdeir938axXn6VWrDXkUrgog3Khx21bvoBUGK7TzDzPneBmwhuTJrkT9xpyZpknYvBIKR3ChUyRyvB0iTgfcM72eM+X/1aR0mtpe4vZej1tN6X08oiP5WZYK68ivie5yzmHMbbTtvPV3Qn5j2nURiu8Mz12+wMaodwI6z8RPhs+jpqLLigPq//T/W9RdVvcN/dP/QAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/280a6f3eeaa274d7ad270bbee247eb0c/a59e9/account-id.webp 192w,\n/static/280a6f3eeaa274d7ad270bbee247eb0c/0ca9f/account-id.webp 384w,\n/static/280a6f3eeaa274d7ad270bbee247eb0c/dc9b9/account-id.webp 768w,\n/static/280a6f3eeaa274d7ad270bbee247eb0c/e2c2f/account-id.webp 1152w,\n/static/280a6f3eeaa274d7ad270bbee247eb0c/f3efb/account-id.webp 1536w,\n/static/280a6f3eeaa274d7ad270bbee247eb0c/0f226/account-id.webp 2450w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/280a6f3eeaa274d7ad270bbee247eb0c/3b721/account-id.png 192w,\n/static/280a6f3eeaa274d7ad270bbee247eb0c/66595/account-id.png 384w,\n/static/280a6f3eeaa274d7ad270bbee247eb0c/fe486/account-id.png 768w,\n/static/280a6f3eeaa274d7ad270bbee247eb0c/d2d74/account-id.png 1152w,\n/static/280a6f3eeaa274d7ad270bbee247eb0c/e8464/account-id.png 1536w,\n/static/280a6f3eeaa274d7ad270bbee247eb0c/35cde/account-id.png 2450w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/280a6f3eeaa274d7ad270bbee247eb0c/fe486/account-id.png\"\n            alt=\"Account Id\"\n            title=\"Account Id\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Account Id</figcaption>\n  </figure></p>\n<ol start=\"3\">\n<li>다시 github repo로 이동한 뒤 Settings > Secrets > New repository secret을 클릭한다.</li>\n<li>Name과 Secret를 저장한다. CLOUDFLARE_ACCOUNT_ID로 Name을 지정해서 저장했다.</li>\n</ol>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/5ce19ab667b9a0deea1cc3bf379eaa0b/01d29/github-repo.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 65.625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAACFUlEQVQ4y22Sy27bMBBF/f+LAv2Fdtldu+2qH9FFWiNp4MiSKVEPvl86BRnHSdAKOCA05FzO3OFByJW74wN17S4jizIoG1DWXwloF1iU5SLXxqwsm3GNVTvkplm05efxxEFbx7JplHEoY1k21f6neWWUC/O6IeeVdVPUs9pYZjljrSPmnZgyIWV8TG09hBDRxvD2s9Yy9D1CjEyTpDsPTSilRIyRHCMxBMKVkvMt9xBibEnGWPZ9b8F13Tg+9tydVn51im7UdGKl7weG4cK5H+jOzxcKMRFjank1/1BvHCeJUvomqLXhPAi6XtBfRsZxYpKSeV7QWuN9wBnNJAfkLHBWVTVq9sF7zyRn9jct19ZqvLaTc2ot5SullHbGiye+fPvIp68f+PH9M5SroHO+3fxScsWHiJjmNhQX4tX0TIjP5lecD8hJIoTAXmfQWrbOcXp6ahXdKswF4wM2RHzK7dk842+rixmXMjYmYtnfC1Zz83VSzceUIMXGHjzJmn8o3kEMjT2Em/9tKPXp1ECqoiXjHu8Zjr+ZHu6xQ4+7DP+l7pnLgH84Qk4vHjq67oyUEut8qyqOF1YXmJVGOU99FOUNcQdb/azW5B0nhlfBzXjO575NuhodnSP2T+hlYRWCbRwpzrJ71yB4otGYecatC2bb8Kc/r4K5FMZpunlY6qTVSpkEWY4UObLP0zvK/Bwvb/Zf3uFffvfr+2HmOL4AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/5ce19ab667b9a0deea1cc3bf379eaa0b/a59e9/github-repo.webp 192w,\n/static/5ce19ab667b9a0deea1cc3bf379eaa0b/0ca9f/github-repo.webp 384w,\n/static/5ce19ab667b9a0deea1cc3bf379eaa0b/dc9b9/github-repo.webp 768w,\n/static/5ce19ab667b9a0deea1cc3bf379eaa0b/e2c2f/github-repo.webp 1152w,\n/static/5ce19ab667b9a0deea1cc3bf379eaa0b/f3efb/github-repo.webp 1536w,\n/static/5ce19ab667b9a0deea1cc3bf379eaa0b/e4e1d/github-repo.webp 2536w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/5ce19ab667b9a0deea1cc3bf379eaa0b/3b721/github-repo.png 192w,\n/static/5ce19ab667b9a0deea1cc3bf379eaa0b/66595/github-repo.png 384w,\n/static/5ce19ab667b9a0deea1cc3bf379eaa0b/fe486/github-repo.png 768w,\n/static/5ce19ab667b9a0deea1cc3bf379eaa0b/d2d74/github-repo.png 1152w,\n/static/5ce19ab667b9a0deea1cc3bf379eaa0b/e8464/github-repo.png 1536w,\n/static/5ce19ab667b9a0deea1cc3bf379eaa0b/01d29/github-repo.png 2536w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/5ce19ab667b9a0deea1cc3bf379eaa0b/fe486/github-repo.png\"\n            alt=\"github repo에서 다음과 같이 Token을 저장한다.\"\n            title=\"github repo에서 다음과 같이 Token을 저장한다.\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">github repo에서 다음과 같이 Token을 저장한다.</figcaption>\n  </figure></p>\n<br>\n<h3 id=\"github-action\" style=\"position:relative;\"><a href=\"#github-action\" aria-label=\"github action permalink\" class=\"headerElement before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Github Action</h3>\n<ul>\n<li>내용을 입력한 후, main으로 merge 하거나, main에서 바로 push를 날리면 Action을 통해서 배포가 완료된다.</li>\n</ul>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/7b2139f4f54ff25d2078c83637e68946/30d26/deploy-ing.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 60.9375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAABoElEQVQoz4WTWW/bMBCE9f//W4E+JEDRhyiWL7mOKV4SKV5fQToq3KBJFxhooT00swN1qYBysPiIcws1SimfYqt/Fp1Sir5/5Xg8ftm4xb2noOfIm46Y2WO0RimNMYZuXT1yEmglKTmTUmrIOTd8zLcIseBDJsRECOEPuhAz41VyFZrF+fYVrTXee5ZloSqoz4paqwzr8sZ0O8WjZB8Ds/OEkMgPkjdW24KPeWP8wLwSaAwnZziMJyYhqPKdcw1fGfMRdek0TW2uU95irGK2lstVcBOSGNbPHPlL6j9dls7w46C46chsDWLSKBux1qKkxBiNVop58eRUJSbyu1Exhlav9530ipkDnS+ZqwnY9X7cUGBJEAuEXKi+bigPaHem9pXWu0TwGTo39FyfvnF9/s4yvJDHPfk8EE970nnPenhl2b0QjjviaWioud/3rV5xn6n5QOd/PtMPI4fXgdv5hBYSO00sSuK0YrqMjMMOK264+k7Jll8Oe4y4MUvJ9CYw7zNd2vfsFPySK0LcGIXFp//+MKwh4rxvct9MwsW7Kb8BxUWnQRiySusAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/7b2139f4f54ff25d2078c83637e68946/a59e9/deploy-ing.webp 192w,\n/static/7b2139f4f54ff25d2078c83637e68946/0ca9f/deploy-ing.webp 384w,\n/static/7b2139f4f54ff25d2078c83637e68946/dc9b9/deploy-ing.webp 768w,\n/static/7b2139f4f54ff25d2078c83637e68946/e2c2f/deploy-ing.webp 1152w,\n/static/7b2139f4f54ff25d2078c83637e68946/f3efb/deploy-ing.webp 1536w,\n/static/7b2139f4f54ff25d2078c83637e68946/9002a/deploy-ing.webp 1894w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/7b2139f4f54ff25d2078c83637e68946/3b721/deploy-ing.png 192w,\n/static/7b2139f4f54ff25d2078c83637e68946/66595/deploy-ing.png 384w,\n/static/7b2139f4f54ff25d2078c83637e68946/fe486/deploy-ing.png 768w,\n/static/7b2139f4f54ff25d2078c83637e68946/d2d74/deploy-ing.png 1152w,\n/static/7b2139f4f54ff25d2078c83637e68946/e8464/deploy-ing.png 1536w,\n/static/7b2139f4f54ff25d2078c83637e68946/30d26/deploy-ing.png 1894w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/7b2139f4f54ff25d2078c83637e68946/fe486/deploy-ing.png\"\n            alt=\"main으로 push하면 다음과 같이 배포를 시작한다.\"\n            title=\"main으로 push하면 다음과 같이 배포를 시작한다.\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">main으로 push하면 다음과 같이 배포를 시작한다.</figcaption>\n  </figure></p>\n<ul>\n<li>참고로 github token은 추가안해도 되는지 궁금할 수 있는데, 안해도 된다.</li>\n<li>github token은 github에서 자동으로 생성하는 token이다. 별도로 설정할 필요는 없었다.</li>\n</ul>\n<br>\n<h3 id=\"참고자료\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EA%B3%A0%EC%9E%90%EB%A3%8C\" aria-label=\"참고자료 permalink\" class=\"headerElement before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>참고자료</h3>\n<p><a href=\"https://jojoldu.tistory.com/657\" target=\"_blank\" rel=\"nofollow\">CloudFlare Pages로 Next.js 서비스 배포하기</a><br>\n<a href=\"https://developers.cloudflare.com/pages/how-to/use-direct-upload-with-continuous-integration/\" target=\"_blank\" rel=\"nofollow\">Use Direct Upload with continuous integration</a></p>","tableOfContents":"<ul>\n<li><a href=\"#github-action-with-cloudflare-pages\">Github Action with Cloudflare Pages</a></li>\n<li><a href=\"#api-token\">API Token</a></li>\n<li><a href=\"#account-id\">Account ID</a></li>\n<li><a href=\"#github-action\">Github Action</a></li>\n<li><a href=\"#%EC%B0%B8%EA%B3%A0%EC%9E%90%EB%A3%8C\">참고자료</a></li>\n</ul>","frontmatter":{"title":"cloudflare Page로 Docusaurus 배포","summary":"vercel, netlify말고, cloudflare로 배포해보자","date":"2023.11.10.","categories":["개발"]}}}]}},"pageContext":{"slug":"/blog/2023/11/10/cloudflare/"}},"staticQueryHashes":["1629908903"]}