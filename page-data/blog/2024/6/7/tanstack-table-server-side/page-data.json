{"componentChunkName":"component---src-templates-post-template-tsx","path":"/blog/2024/6/7/tanstack-table-server-side/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/cc2473bb2797b1ae4f9c63fa2329b62d/d71bc/img.webp\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/webp;base64,UklGRsgAAABXRUJQVlA4ILwAAAAwBQCdASoUABQAPtFgqU+oJaOiKAgBABoJaAAFEB7exm0znQNSoRJkbwpv77vg3WHsAAD+79dHuyPjHbx/kI/UzpuswBEm4Qt69sCmyxDyfmwFEk3ZqH6QU0HXL7m6mlXq8hmvk9v0kNdrFaxj78rYnIgTCIEPhkDkmLzYX5KD7Pq7gMgr1NVoa1ME9ClFysEYM7a6A/IpjySoqhv1Vgfrwo72ql07WtjqKQtjOsMLtiBW8WToRbkyTdiAAA=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/cc2473bb2797b1ae4f9c63fa2329b62d/a59e9/img.webp 192w,\n/static/cc2473bb2797b1ae4f9c63fa2329b62d/0ca9f/img.webp 384w,\n/static/cc2473bb2797b1ae4f9c63fa2329b62d/dc9b9/img.webp 768w,\n/static/cc2473bb2797b1ae4f9c63fa2329b62d/d71bc/img.webp 1024w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/cc2473bb2797b1ae4f9c63fa2329b62d/a59e9/img.webp 192w,\n/static/cc2473bb2797b1ae4f9c63fa2329b62d/0ca9f/img.webp 384w,\n/static/cc2473bb2797b1ae4f9c63fa2329b62d/dc9b9/img.webp 768w,\n/static/cc2473bb2797b1ae4f9c63fa2329b62d/d71bc/img.webp 1024w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/webp\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/cc2473bb2797b1ae4f9c63fa2329b62d/dc9b9/img.webp\"\n            alt=\"img\"\n            title=\"img\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p><a href=\"https://github.com/Geuni620/tanstack-table-pagination-server-side\" target=\"_blank\" rel=\"nofollow\">ì˜ˆì‹œ ì†ŒìŠ¤ì½”ë“œ</a></p>\n<h2 id=\"server-side-pagination\" style=\"position:relative;\"><a href=\"#server-side-pagination\" aria-label=\"server side pagination permalink\" class=\"headerElement before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Server side pagination</h2>\n<p>Tanstack-tableì˜ ê³µì‹ë¬¸ì„œë¥¼ ì‚´í´ë³´ë©´, <a href=\"https://tanstack.com/table/latest/docs/guide/pagination\" target=\"_blank\" rel=\"nofollow\">í•´ë‹¹ ë‚´ìš©ì— ê´€í•œ ê¸€</a>ì´ ì¡´ì¬í•œë‹¤.<br>\ní˜„ì¬ íšŒì‚¬ í”„ë¡œì íŠ¸ì—ì„ , client sideë¡œ ê°œë°œë˜ì–´ìˆì§€ë§Œ, ì¶”í›„ì—” server sideë¡œ ë³€ê²½í•  ê°€ëŠ¥ì„±ì´ ë†’ë‹¤.<br>\në¬¼ë¡  ë¬¸ì„œë¥¼ í™•ì¸í•´ë³´ë©´, <a href=\"https://tanstack.com/table/latest/docs/guide/pagination#client-side-pagination\" target=\"_blank\" rel=\"nofollow\">client sideì—ì„œë„ ì¶©ë¶„íˆ ë†’ì€ ì„±ëŠ¥</a>ì„ ë³´ì—¬ì¤„ ìˆ˜ ìˆë‹¤ê³  í•œë‹¤.</p>\n<p>í˜„ ê¸€ì—ì„  supabaseì˜ RLSë¥¼ ì ê·¹ì ìœ¼ë¡œ ì‚¬ìš©í•´ë³´ê³  ì‹¶ì–´ì„œ, Reactë¡œë§Œ êµ¬í˜„í•˜ë ¤ê³  í•œë‹¤.<br>\nê·¸ë¦¬ê³  Tanstack-tableê³¼ Tanstack-queryë¥¼ ì‚¬ìš©í•  ê²ƒì´ë‹¤.</p>\n<br/>\n<h3 id=\"client-side-pagination\" style=\"position:relative;\"><a href=\"#client-side-pagination\" aria-label=\"client side pagination permalink\" class=\"headerElement before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>client side pagination</h3>\n<p>ë¨¼ì €, tanstack-tableì„ ì´ìš©í•´ì„œ, client-sideë¡œ paginationì€ ì–´ë–»ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆì„ê¹Œ?<br>\n<a href=\"https://geuni620.github.io/blog/2023/12/2/tanstack-table/#3-pagination-%EC%A0%81%EC%9A%A9%ED%95%98%EA%B8%B0\" target=\"_blank\" rel=\"nofollow\">ì´ì „ ê¸€ì—ì„œ pagination êµ¬í˜„ ì†ŒìŠ¤ì½”ë“œ</a>ë¥¼ ì‚´í´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useReactTable<span class=\"token punctuation\">,</span> getCoreRowModel<span class=\"token punctuation\">,</span> getPaginationRowModel <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@tanstack/react-table'</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> table <span class=\"token operator\">=</span> <span class=\"token function\">useReactTable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    data<span class=\"token punctuation\">,</span>\n    columns<span class=\"token punctuation\">,</span>\n    getCoreRowModel<span class=\"token operator\">:</span> <span class=\"token function\">getCoreRowModel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    onRowSelectionChange<span class=\"token operator\">:</span> setRowSelection<span class=\"token punctuation\">,</span>\n    state<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      rowSelection<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n    <span class=\"token comment\">// Pagination</span>\n    getPaginationRowModel<span class=\"token operator\">:</span> <span class=\"token function\">getPaginationRowModel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><code class=\"language-text\">getPaginationRowModel</code>ì— import ì‹œí‚¨ <code class=\"language-text\">getPaginationRowModal()</code>ì„ ì‹¤í–‰ì‹œí‚¤ë©´, ëì´ë‹¤.<br>\nì´í›„ í˜ì´ì§€ë„¤ì´ì…˜ì„ ì‚¬ìš©í•´ì•¼í•  ë•, <a href=\"https://tanstack.com/table/latest/docs/guide/tables\" target=\"_blank\" rel=\"nofollow\">Table Instance(ì´í•˜ Table ì¸ìŠ¤í„´ìŠ¤)</a>ë§Œìœ¼ë¡œ pagiantion êµ¬í˜„ì´ ê°€ëŠ¥í•˜ë‹¤.</p>\n<p>ì‚¬ìš©ì€ ë‹¤ìŒê³¼ ê°™ì´ í•˜ë©´ëœë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token punctuation\">{</span>table<span class=\"token punctuation\">.</span><span class=\"token function\">getState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>pagination<span class=\"token punctuation\">.</span>pageIndex <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\"> // í˜„ì¬ í˜ì´ì§€\n  </span><span class=\"token punctuation\">{</span>table<span class=\"token punctuation\">.</span><span class=\"token function\">getPageCount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\"> // ì´ í˜ì´ì§€ ìˆ˜\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<br/>\n<h2 id=\"server-side-pagination-1\" style=\"position:relative;\"><a href=\"#server-side-pagination-1\" aria-label=\"server side pagination 1 permalink\" class=\"headerElement before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>server side pagination</h2>\n<h3 id=\"1-getpaginationrowmodel-ì œê±°--manualpagiantion-ì¶”ê°€\" style=\"position:relative;\"><a href=\"#1-getpaginationrowmodel-%EC%A0%9C%EA%B1%B0--manualpagiantion-%EC%B6%94%EA%B0%80\" aria-label=\"1 getpaginationrowmodel ì œê±°  manualpagiantion ì¶”ê°€ permalink\" class=\"headerElement before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. getPaginationRowModel ì œê±° â†’ manualPagiantion ì¶”ê°€</h3>\n<p>ê·¸ëŸ¼ ì´ì œ ë³¸ê²©ì ìœ¼ë¡œ server side paginationì„ ì‚´í´ë³´ì.<br>\n<a href=\"https://tanstack.com/table/latest/docs/guide/pagination#manual-server-side-pagination\" target=\"_blank\" rel=\"nofollow\">ê³µì‹ë¬¸ì„œì˜ ë‚´ìš©</a>ì„ ê·¸ëŒ€ë¡œ ë”°ë¼ê°€ë©´ì„œ ì‘ì„±í–ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useReactTable<span class=\"token punctuation\">,</span> getCoreRowModel<span class=\"token punctuation\">,</span> getPaginationRowModel <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@tanstack/react-table'</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> table <span class=\"token operator\">=</span> <span class=\"token function\">useReactTable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    data<span class=\"token punctuation\">,</span>\n    columns<span class=\"token punctuation\">,</span>\n    getCoreRowModel<span class=\"token operator\">:</span> <span class=\"token function\">getCoreRowModel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    onRowSelectionChange<span class=\"token operator\">:</span> setRowSelection<span class=\"token punctuation\">,</span>\n    state<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      rowSelection<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n    <span class=\"token comment\">// Pagination</span>\n<span class=\"token operator\">-</span>   <span class=\"token comment\">// getPaginationRowModel: getPaginationRowModel(), remove!</span>\n<span class=\"token operator\">+</span>   manualPagination<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><code class=\"language-text\">manualPagination</code>ì„ trueë¡œ ì„¤ì •í•¨ìœ¼ë¡œì¨,<br>\ntable ì¸ìŠ¤í„´ìŠ¤ì—ê²Œ ë” ì´ìƒ client-sideë¡œ í˜ì´ì§€ë„¤ì´ì…˜ì„ ì‚¬ìš©í•˜ì§€ ì•Šê² ë‹¤ê³  ì•Œë ¤ì£¼ëŠ” ê²ƒì´ë‹¤.</p>\n<p>ì´í›„, table ì¸ìŠ¤í„´ìŠ¤ëŠ” ë‚´ë¶€ì ìœ¼ë¡œ, <code class=\"language-text\">getPrePaginationRowModel</code>ì„ í™œì„±í™”ì‹œí‚¤ë©°,<br>\ntable ì¸ìŠ¤í„´ìŠ¤ëŠ” ì‚¬ìš©ìê°€ ì „ë‹¬í•œ ë°ì´í„°ê°€ ì´ë¯¸ í˜ì´ì§€ë„¤ì´ì…˜ ëœ ê²ƒìœ¼ë¡œ ê°„ì£¼í•œë‹¤.</p>\n<p>ì‹¤ì œë¡œ, client-side ë˜ì–´ìˆëŠ” ìƒíƒœì—ì„œ,<br>\n<code class=\"language-text\">getPaginationRowModel</code>ì„ ì œê±°í•˜ë©´, ë” ì´ìƒ í˜ì´ì§€ë„¤ì´ì…˜ì´ ë™ì‘í•˜ì§€ ì•ŠëŠ”ë‹¤.<br>\nê·¸ë¦¬ê³  <code class=\"language-text\">manualPagination</code>ì„ trueë¡œ ì„¤ì •í–ˆì„ ë•Œ, í° ë³€í™”ê°€ ë³´ì´ì§€ ì•ŠëŠ”ë‹¤. í•˜ì§€ë§Œ ê¼­ ì„¤ì •í•´ì¤˜ì•¼í•œë‹¤.</p>\n<br/>\n<h3 id=\"2-page-countí˜ì´ì§€-ìˆ˜ì™€-row-countí–‰ì˜-ìˆ˜-ì¶”ê°€í•˜ê¸°\" style=\"position:relative;\"><a href=\"#2-page-count%ED%8E%98%EC%9D%B4%EC%A7%80-%EC%88%98%EC%99%80-row-count%ED%96%89%EC%9D%98-%EC%88%98-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0\" aria-label=\"2 page countí˜ì´ì§€ ìˆ˜ì™€ row countí–‰ì˜ ìˆ˜ ì¶”ê°€í•˜ê¸° permalink\" class=\"headerElement before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Page Count(í˜ì´ì§€ ìˆ˜)ì™€ Row Count(í–‰ì˜ ìˆ˜) ì¶”ê°€í•˜ê¸°</h3>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\">  <span class=\"token keyword\">const</span> table <span class=\"token operator\">=</span> <span class=\"token function\">useReactTable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    data<span class=\"token punctuation\">,</span>\n    columns<span class=\"token punctuation\">,</span>\n    getCoreRowModel<span class=\"token operator\">:</span> <span class=\"token function\">getCoreRowModel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    manualPagination<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    rowCount<span class=\"token operator\">:</span> total<span class=\"token punctuation\">,</span> <span class=\"token comment\">// ì„œë²„ë¡œ ë¶€í„° ë°›ì•„ì˜¨ rowì˜ ì´ ê°œìˆ˜</span>\n    <span class=\"token comment\">// pageCount: total / pageSize // ì„œë²„ë¡œ ë¶€í„° ë°›ì•„ì˜¨ í˜ì´ì§€ ìˆ˜ê°€ ìˆë‹¤ë©´ ì´ë¥¼ ì¶”ê°€í•  ìˆ˜ë„ ìˆìŒ</span>\n    onPaginationChange<span class=\"token punctuation\">,</span>\n    state<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> pagination <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ì´ì œ table ì¸ìŠ¤í„´ìŠ¤ì—ê²Œ í˜ì´ì§€ ìˆ˜ê°€ ëª‡ì¸ì§€, í–‰ì˜ ìˆ˜ëŠ” ëª‡ ê°œì”© ë³´ì—¬ì¤„ ê²ƒì¸ì§€ ì•Œë ¤ì£¼ì§€ ì•Šìœ¼ë©´,<br>\ntable ì¸ìŠ¤í„´ìŠ¤ëŠ” ì´ë¥¼ ì•Œ ìˆ˜ ìˆëŠ” ë°©ë²•ì´ ì—†ë‹¤.<br>\nê·¸ë˜ì„œ <strong>rowCount ë˜ëŠ” pageCountì™€ ê°™ì´ table ì¸ìŠ¤í„´ìŠ¤ì—ê²Œ ì´ë¥¼ ì•Œë ¤ì£¼ì–´ì•¼í•œë‹¤.</strong></p>\n<p><strong>rowCountëŠ” ì„œë²„ë¡œ ë¶€í„° ë°›ì•„ì˜¨ rowì˜ ì´ ê°œìˆ˜ì´ë‹¤.</strong> ì˜ˆì‹œì—ì„  ì´ë¥¼ ì‚¬ìš©í–ˆë‹¤.<br>\n<strong>pageCountëŠ” ì„œë²„ë¡œ ë¶€í„° ë°›ì•„ì˜¨ pagination ìˆ˜ë¥¼ ë°”ë¡œ ì§€ì •í•´ì£¼ëŠ” ê²ƒì´ë‹¤.</strong></p>\n<p>ì˜ˆë¥¼ ë“¤ì–´, ì„œë²„ë¡œë¶€í„° ë°›ì•„ì˜¨ rowì˜ ì´ ê°œìˆ˜ê°€ 200ê°œì´ê³ ,<br>\npageSizeë¥¼ 20ìœ¼ë¡œ ì§€ì •í•´ ì´ í–‰ì„ 20ê°œì”© ë³´ì—¬ì¤€ë‹¤ê³  ê°€ì •í–ˆì„ ë•Œ,<br>\npageCountëŠ” 10ì´ ë  ê²ƒì´ê³ , paginationì€ 1ë¶€í„° 10ê¹Œì§€ ë…¸ì¶œë  ê²ƒì´ë‹¤.</p>\n<br/>\n<h3 id=\"3-pagination-state\" style=\"position:relative;\"><a href=\"#3-pagination-state\" aria-label=\"3 pagination state permalink\" class=\"headerElement before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. Pagination State</h3>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token comment\">// usePagination.ts</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">type</span> <span class=\"token class-name\">Pagination</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  pageIndex<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n  pageSize<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">usePagination</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>pagination<span class=\"token punctuation\">,</span> setPagination<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token generic-function\"><span class=\"token function\">useState</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>Pagination<span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    pageIndex<span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n    pageSize<span class=\"token operator\">:</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">onPageSizeChange</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>pageSize<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setPagination</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>prev<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token operator\">...</span>prev<span class=\"token punctuation\">,</span>\n        pageSize<span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n    pagination<span class=\"token punctuation\">,</span>\n    onPaginationChange<span class=\"token operator\">:</span> setPagination<span class=\"token punctuation\">,</span>\n    onPageSizeChange<span class=\"token operator\">:</span> onPageSizeChange<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ìœ„ì™€ ê°™ì´ stateë¥¼ ê´€ë¦¬í•˜ë ¤ê³  í•œë‹¤.<br>\n<code class=\"language-text\">pageIndex</code>ëŠ” í˜„ì¬ í˜ì´ì§€ ë²ˆí˜¸ì´ê³ ,<br>\n<code class=\"language-text\">pageSize</code>ëŠ” ì´ ë°ì´í„° ì¤‘, í•œ í˜ì´ì§€ì— ëª‡ ê°œì”© ë³´ì—¬ì¤„ì§€ë¥¼ ê²°ì •í•˜ëŠ” ìˆ˜ì´ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token comment\">// dashboard.tsx</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">Dashboard</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ...</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> pagination<span class=\"token punctuation\">,</span> onPaginationChange<span class=\"token punctuation\">,</span> onPageSizeChange <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">usePagination</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> tasks <span class=\"token operator\">=</span> <span class=\"token function\">useTaskGetQuery</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    page<span class=\"token operator\">:</span> pagination<span class=\"token punctuation\">.</span>pageIndex<span class=\"token punctuation\">,</span> <span class=\"token comment\">// here! ğŸ™‹â€â™‚ï¸</span>\n    size<span class=\"token operator\">:</span> pagination<span class=\"token punctuation\">.</span>pageSize<span class=\"token punctuation\">,</span> <span class=\"token comment\">// here! ğŸ™‹â€â™‚ï¸</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>tasks<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">DataTable</span></span>\n        <span class=\"token attr-name\">data</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>tasks<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>result<span class=\"token punctuation\">}</span></span>\n        <span class=\"token attr-name\">total</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>tasks<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>count <span class=\"token operator\">??</span> <span class=\"token number\">0</span><span class=\"token punctuation\">}</span></span>\n        <span class=\"token attr-name\">columns</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>columns<span class=\"token punctuation\">}</span></span>\n        <span class=\"token attr-name\">pagination</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>pagination<span class=\"token punctuation\">}</span></span> <span class=\"token comment\">// here! ğŸ™‹â€â™‚ï¸</span>\n        <span class=\"token attr-name\">onPaginationChange</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>onPaginationChange<span class=\"token punctuation\">}</span></span> <span class=\"token comment\">// here! ğŸ™‹â€â™‚ï¸</span>\n      <span class=\"token punctuation\">/></span></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">...Loading</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>pagination stateë¥¼ DataTable ì»´í¬ë„ŒíŠ¸ì˜ propsë¡œ,<br>\nuseTaskGetQueryì˜ ë§¤ê°œë³€ìˆ˜ë¡œ ê°ê° ì¶”ê°€í•´ì¤€ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token comment\">// data-table.tsx</span>\n  <span class=\"token keyword\">const</span> table <span class=\"token operator\">=</span> <span class=\"token function\">useReactTable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    data<span class=\"token punctuation\">,</span>\n    columns<span class=\"token punctuation\">,</span>\n    getCoreRowModel<span class=\"token operator\">:</span> <span class=\"token function\">getCoreRowModel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    manualPagination<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    rowCount<span class=\"token operator\">:</span> total<span class=\"token punctuation\">,</span>\n    onPaginationChange<span class=\"token punctuation\">,</span> <span class=\"token comment\">// here! ğŸ™‹â€â™‚ï¸</span>\n    state<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> pagination <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// here! ğŸ™‹â€â™‚ï¸</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ì´ì œ table ì¸ìŠ¤í„´ìŠ¤ì— ì´ë¥¼ ì£¼ì…ì‹œì¼œì£¼ë©´, table ì¸ìŠ¤í„´ìŠ¤ê°€ ì•Œì•„ì„œ Pagiantionì„ ì˜ ì ìš©í•´ì¤„ ê²ƒì´ë‹¤.</p>\n<blockquote>\n<p>âœ… ì°¸ê³ ë¡œ, <a href=\"https://github.com/TanStack/table/discussions/2029#discussioncomment-4860455\" target=\"_blank\" rel=\"nofollow\">initialState</a>ë„ ì¡´ì¬í•˜ëŠ”ë°, ì œì¼ ì²˜ìŒ ë Œë”ë§ ë  ë•Œ ì´ˆê¸°ê°’ì„ ì§€ì •í•´ì¤„ ìˆ˜ ìˆë‹¤.<br>\ní•˜ì§€ë§Œ, stateì™€ initialStateë¥¼ í•¨ê»˜ì“°ë©´, stateê°€ initialStateë¥¼ overwriteí•´ë²„ë¦°ë‹¤.<br>\nì¦‰, state ê¸°ì¤€ìœ¼ë¡œ ì ìš©ë˜ëŠ” ê²ƒì´ë‹¤.</p>\n</blockquote>\n<br/>\n<h2 id=\"ë§ˆë¬´ë¦¬\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC\" aria-label=\"ë§ˆë¬´ë¦¬ permalink\" class=\"headerElement before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë§ˆë¬´ë¦¬</h2>\n<p>í™•ì‹¤íˆ í¸í•œ ê±´, client-sideì´ë‹¤.<br>\ntable ì¸ìŠ¤í„´ìŠ¤ë§Œ ìƒì„±í•˜ë©´, ì´í›„ì—” tanstack-tableì´ ì•Œì•„ì„œ ë°˜ì˜í•´ì£¼ê¸° ë•Œë¬¸ì´ë‹¤.</p>\n<p>í•˜ì§€ë§Œ, ì—„ì²­ í° ëŒ€ëŸ‰ì˜ ë°ì´í„°ë¥¼ í…Œì´ë¸”ì— ì£¼ì…ì‹œì¼œì•¼í•œë‹¤ë©´,<br>\ní•œ ë²ˆì— 20ë§Œê°œì˜ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ”ê±´ ë„¤íŠ¸ì›Œí¬ë„, í…Œì´ë¸” ë‚´ ì„±ëŠ¥ë„ ì¢‹ì§€ ëª»í•˜ë‹¤.</p>\n<p>ì‹¤ì œë¡œ ì–´ë– í•œ ë©”ëª¨ì´ì œì´ì…˜ë„ ì ìš©í•˜ì§€ ì•Šì€ ì±„, Tanstack-tableì„ ì‚¬ìš©í•´ì„œ pageSizeë¥¼ 200ê°œë¡œ ì§€ì •í•´ ë Œë”ë§ í•´ë´¤ë‹¤.<br>\nê²€ìƒ‰ê¸°ëŠ¥ìœ¼ë¡œ í…Œì´ë¸” ë‚´ ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ë ¤ê³  í•  ë•Œ, ë²„ë²…ì„ì´ ë°œìƒí–ˆë‹¤.</p>\n<p>inputì˜ valueë¥¼ ì…ë ¥í•  ë•Œë§ˆë‹¤, tableì´ ê³„ì† ë¦¬ë Œë”ë§ ë˜ì—ˆë˜ ê²ƒì´ë‹¤.<br>\nì´ë•Œ, ì´ ë°›ì•„ì˜¨ ë°ì´í„°ê°€ 1000ê°œë¼ë©´, 1000ê°œê°€ ì£¼ì…ëœ í…Œì´ë¸” ì¸ìŠ¤í„´ìŠ¤ê°€<br>\në§¤ ë¦¬ë Œë”ë§ ë  ë•Œë§ˆë‹¤ useReactTable hooksì´ ì‹¤í–‰ëì„ ê²ƒì´ë‹¤.</p>\n<br/>\n<p>ì´ë²ˆ ê¸€ì„ ì‘ì„±í•˜ë©´ì„œ, ë‚˜ëŠ” ìµœëŒ€í•œ client-sideê°€ ì•„ë‹Œ server-sideë¡œ ì ìš©í•  ê²ƒ ê°™ë‹¤.<br>\nê¸°íšŒê°€ ëœë‹¤ë©´ íšŒì‚¬ì— êµ¬í˜„ë˜ì–´ìˆëŠ” ê²ƒë„ ë³€ê²½í•  ì˜ˆì •ì´ë‹¤.<br>\nì´ìœ ëŠ” ìµœëŒ€í•œ í´ë¼ì´ì–¸íŠ¸ë¥¼ ê°€ë³ê²Œ ê°€ì ¸ê°€ê³  ì‹¶ë‹¤.</p>\n<br/>\n<h2 id=\"ì°¸ê³ ìë£Œ\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EA%B3%A0%EC%9E%90%EB%A3%8C\" aria-label=\"ì°¸ê³ ìë£Œ permalink\" class=\"headerElement before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì°¸ê³ ìë£Œ</h2>\n<p><a href=\"https://tanstack.com/table/latest/docs/guide/pagination\" target=\"_blank\" rel=\"nofollow\">Pagination Guide</a></p>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#server-side-pagination\">Server side pagination</a></p>\n<ul>\n<li><a href=\"#client-side-pagination\">client side pagination</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#server-side-pagination-1\">server side pagination</a></p>\n<ul>\n<li><a href=\"#1-getpaginationrowmodel-%EC%A0%9C%EA%B1%B0--manualpagiantion-%EC%B6%94%EA%B0%80\">1. getPaginationRowModel ì œê±° â†’ manualPagiantion ì¶”ê°€</a></li>\n<li><a href=\"#2-page-count%ED%8E%98%EC%9D%B4%EC%A7%80-%EC%88%98%EC%99%80-row-count%ED%96%89%EC%9D%98-%EC%88%98-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0\">2. Page Count(í˜ì´ì§€ ìˆ˜)ì™€ Row Count(í–‰ì˜ ìˆ˜) ì¶”ê°€í•˜ê¸°</a></li>\n<li><a href=\"#3-pagination-state\">3. Pagination State</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC\">ë§ˆë¬´ë¦¬</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%B0%B8%EA%B3%A0%EC%9E%90%EB%A3%8C\">ì°¸ê³ ìë£Œ</a></p>\n</li>\n</ul>","frontmatter":{"title":"Tanstack-table pagination server-sideë¡œ êµ¬í˜„í•˜ê¸°","summary":"ê³µì‹ë¬¸ì„œë¥¼ ì°¸ê³ í•˜ë©°..","date":"2024.06.07.","categories":["ê°œë°œ"]}}}]}},"pageContext":{"slug":"/blog/2024/6/7/tanstack-table-server-side/"}},"staticQueryHashes":["1629908903"]}