{"componentChunkName":"component---src-templates-post-template-tsx","path":"/blog/2024/9/28/tanstack-table-row-selection/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f9a4ff756f32875d4c1ccfdb885883e2/d71bc/img.webp\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/webp;base64,UklGRtwAAABXRUJQVlA4INAAAABwBQCdASoUABQAPtFgqE+oJSOiKAgBABoJZQC90d3Le3zAA8gXtICZ4v2EaEuAoZNxsR4AAP7qkNzjMxtfojW4kkicRgTMcVrU67kxVJKHHWoLwjD11LGrKjLAQ9MFXQQx1XMdoJYl3vQBzcJxwCLO7OpNlpb3jHjYrsX5vn1db20at0jBFKr8B3NW8DDGGjB20T0GmVCLRTxkbvBZOaT6VZgiKt3Zeb06KTCtCuxqWLCnmMPzF5IfOAeJXYrgTg+Hy3ojyh7aOdqgQxjwAAAA'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/f9a4ff756f32875d4c1ccfdb885883e2/a59e9/img.webp 192w,\n/static/f9a4ff756f32875d4c1ccfdb885883e2/0ca9f/img.webp 384w,\n/static/f9a4ff756f32875d4c1ccfdb885883e2/dc9b9/img.webp 768w,\n/static/f9a4ff756f32875d4c1ccfdb885883e2/d71bc/img.webp 1024w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/f9a4ff756f32875d4c1ccfdb885883e2/a59e9/img.webp 192w,\n/static/f9a4ff756f32875d4c1ccfdb885883e2/0ca9f/img.webp 384w,\n/static/f9a4ff756f32875d4c1ccfdb885883e2/dc9b9/img.webp 768w,\n/static/f9a4ff756f32875d4c1ccfdb885883e2/d71bc/img.webp 1024w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/webp\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/f9a4ff756f32875d4c1ccfdb885883e2/dc9b9/img.webp\"\n            alt=\"img\"\n            title=\"img\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p><a href=\"https://geuni620.github.io/blog/2024/6/7/tanstack-table-server-side/\" target=\"_blank\" rel=\"nofollow\">ì´ì „ ê¸€ì—ì„œë„ ì–¸ê¸‰í–ˆì§€ë§Œ</a>, Tanstack-tableì„ í˜ì´ì§€ë„¤ì´ì…˜ì„ client-sideì™€ server-side ëª¨ë‘ ì ìš©í•  ìˆ˜ ìˆë‹¤.<br>\nserver-sideë¥¼ ì•Œê²Œ ëœ ì´í›„, ìµœê·¼ê¹Œì§„ Tanstack-tableì„ ì‚¬ìš©í•´ì•¼í•  ê²½ìš° ëª¨ë‘ server-sideë¡œ êµ¬í˜„í–ˆë‹¤.</p>\n<p>ì¼ë‹¨, ì„œë²„ì— ì˜ì¡´ì ì´ë¼ëŠ”ê²Œ ë‚˜ëŠ” ì˜¤íˆë ¤ ì¢‹ì•˜ë‹¤.<br>\nìì£¼ ìš”ì²­ì„ ë³´ë‚´ë”ë¼ë„, ë³´ì—¬ì¤˜ì•¼í•  ì–‘ ë§Œí¼ë§Œ ê°€ì ¸ì˜¤ëŠ”ê²Œ ë§ˆìŒì— ë“ ë‹¤.<br>\ní•˜ì§€ë§Œ ì´ë²ˆì— ìƒˆë¡­ê²Œ ë°°í¬í•œ ê¸°ëŠ¥ì—ì„  ì˜ˆìƒì§€ ëª»í•œ ì´ìŠˆê°€ ë°œìƒí–ˆëŠ”ë°, ë‹¤ìŒê³¼ ê°™ë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/678571376300adb74c86611086f18d0d/d76be/problem.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 22.395833333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAsklEQVQY033MPW/CMBSF4fz/f9ROqFM7MLBVKpVSEuI4CXYcAhh/3LdKYUIqR3p07l1OEVImn2fs+xq12XIsS5IIEYgC4YHwXBFSwjuLeX2hW71h1x9kOyCjIZoBcRam8c6C+59MI4WPkcuhx28/mXtNtAeys6TREMztXsbkmWXsdETqkoIlweO/v3DVjrmpOTcVohVx0Fw7RehaclP9te9aUtuQVU3oNRetbn+7J+1/+AUFLDL+9ocylwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/678571376300adb74c86611086f18d0d/a59e9/problem.webp 192w,\n/static/678571376300adb74c86611086f18d0d/0ca9f/problem.webp 384w,\n/static/678571376300adb74c86611086f18d0d/dc9b9/problem.webp 768w,\n/static/678571376300adb74c86611086f18d0d/e2c2f/problem.webp 1152w,\n/static/678571376300adb74c86611086f18d0d/f3efb/problem.webp 1536w,\n/static/678571376300adb74c86611086f18d0d/1edc1/problem.webp 2028w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/678571376300adb74c86611086f18d0d/3b721/problem.png 192w,\n/static/678571376300adb74c86611086f18d0d/66595/problem.png 384w,\n/static/678571376300adb74c86611086f18d0d/fe486/problem.png 768w,\n/static/678571376300adb74c86611086f18d0d/d2d74/problem.png 1152w,\n/static/678571376300adb74c86611086f18d0d/e8464/problem.png 1536w,\n/static/678571376300adb74c86611086f18d0d/d76be/problem.png 2028w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/678571376300adb74c86611086f18d0d/fe486/problem.png\"\n            alt=\"problem\"\n            title=\"problem\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<ol>\n<li>1í˜ì´ì§€ì—ì„œ ì›í•˜ëŠ” ë°ì´í„°ë¥¼ ì²´í¬ë°•ìŠ¤ì— ì²´í¬í–ˆë‹¤.</li>\n<li>ë‹¤ë¥¸ í˜ì´ì§€ì—ì„œ ë°ì´í„°ë¥¼ ì„ íƒí•˜ê¸° ìœ„í•´, í˜ì´ì§€ë¥¼ ì´ë™í–ˆë‹¤. 2í˜ì´ì§€ë¡œ ê°”ë‹¤ê³  ê°€ì •í•´ë³´ì</li>\n<li>2í˜ì´ì§€ì—ì„œ ì›í•˜ëŠ” ë°ì´í„°ë¥¼ ì„ íƒí–ˆë‹¤.</li>\n</ol>\n<p>ê·¸ë¦¬ê³  í™•ì¸ì„ ëˆ„ë¥´ë©´, 1í˜ì´ì§€ì—ì„œ ì„ íƒí•œ ë°ì´í„°ê°€ ìœ ì§€ë˜ì§€ ì•ŠëŠ” ê²ƒì´ë‹¤.</p>\n<p>í˜ì´ì§€ë„¤ì´ì…˜ì´ ì„œë²„ì— ì˜ì¡´í•˜ê³  ìˆì–´ì„œ,<br>\n1í˜ì´ì§€ì—ì„œ 2í˜ì´ì§€ë¡œ ë„˜ì–´ê°”ì„ ë•Œ, 2í˜ì´ì§€ì— í•´ë‹¹ í•˜ëŠ” ì–‘ë§Œí¼ ìƒˆë¡­ê²Œ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ê³ ,<br>\nì´ë•Œ 1í˜ì´ì§€ì—ì„œ ì„ íƒí•œ ë°ì´í„°ëŠ” ë‚ ì•„ê°€ë²„ë¦°ë‹¤.</p>\n<br/>\n<p><strong>ì–´ë–»ê²Œí•˜ë©´ í˜ì´ì§€ë„¤ì´ì…˜ ë³€ê²½ì— ë”°ë¼ ë°ì´í„°ë¥¼ ìœ ì§€ì‹œí‚¬ ìˆ˜ ìˆì„ê¹Œ?</strong></p>\n<p>Tanstack-tableì„ ì‚¬ìš©í–ˆì„ ë•Œ, í¬ê²Œ ë‘ ê°€ì§€ ë°©ë²•ì´ ìˆëŠ” ê²ƒ ê°™ë‹¤.<br>\n<strong>ì²« ë²ˆì§¸ëŠ”</strong>, useReactTableì˜ <code class=\"language-text\">onRowSelectionChange</code> ë©”ì„œë“œì— customí•œ í•¨ìˆ˜ë¥¼ ë“±ë¡í•˜ëŠ” ë°©ë²•,<br>\n<strong>ë‘ ë²ˆì§¸ëŠ”</strong>, rowSelectionì— ë”°ë¼ useEffectë¡œ ë°ì´í„°ë¥¼ ë™ê¸°í™”ì‹œí‚¤ëŠ” ê²ƒì´ë‹¤.</p>\n<p>ê°ê° ì‚´í´ë³´ì.</p>\n<br/>\n<h3 id=\"1-onrowselectionchange\" style=\"position:relative;\"><a href=\"#1-onrowselectionchange\" aria-label=\"1 onrowselectionchange permalink\" class=\"headerElement before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. onRowSelectionChange</h3>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> DataTable <span class=\"token operator\">=</span> <span class=\"token operator\">&lt;</span>TData<span class=\"token punctuation\">,</span> TValue<span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  data<span class=\"token punctuation\">,</span>\n  columns<span class=\"token punctuation\">,</span>\n  total<span class=\"token punctuation\">,</span>\n  pagination<span class=\"token punctuation\">,</span>\n  onPaginationChange<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> DataTableProps<span class=\"token operator\">&lt;</span>TData<span class=\"token punctuation\">,</span> TValue<span class=\"token operator\">></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>rowSelection<span class=\"token punctuation\">,</span> setRowSelection<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token generic-function\"><span class=\"token function\">useState</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>RowSelectionState<span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>selectedRowData<span class=\"token punctuation\">,</span> setSelectedRowData<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token generic-function\"><span class=\"token function\">useState</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>TData<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> onRowSelectionChangeHandler<span class=\"token operator\">:</span> OnChangeFn<span class=\"token operator\">&lt;</span>RowSelectionState<span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\n    updaterOrValue<span class=\"token operator\">:</span> Updater<span class=\"token operator\">&lt;</span>RowSelectionState<span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> updateRowSelection <span class=\"token operator\">=</span>\n      <span class=\"token keyword\">typeof</span> updaterOrValue <span class=\"token operator\">===</span> <span class=\"token string\">'function'</span>\n        <span class=\"token operator\">?</span> <span class=\"token function\">updaterOrValue</span><span class=\"token punctuation\">(</span>rowSelection<span class=\"token punctuation\">)</span>\n        <span class=\"token operator\">:</span> updaterOrValue<span class=\"token punctuation\">;</span>\n\n    <span class=\"token function\">setRowSelection</span><span class=\"token punctuation\">(</span>updateRowSelection<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">const</span> selectedRows <span class=\"token operator\">=</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">entries</span><span class=\"token punctuation\">(</span>updateRowSelection<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span>\n      <span class=\"token punctuation\">(</span>acc<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">,</span> isSelected<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>isSelected<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token keyword\">const</span> index <span class=\"token operator\">=</span> <span class=\"token function\">Number</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n          acc<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">return</span> acc<span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token keyword\">as</span> TData<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token function\">setSelectedRowData</span><span class=\"token punctuation\">(</span>selectedRows<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> table <span class=\"token operator\">=</span> <span class=\"token function\">useReactTable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    data<span class=\"token punctuation\">,</span>\n    columns<span class=\"token punctuation\">,</span>\n    getCoreRowModel<span class=\"token operator\">:</span> <span class=\"token function\">getCoreRowModel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    manualPagination<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    rowCount<span class=\"token operator\">:</span> total<span class=\"token punctuation\">,</span>\n    onPaginationChange<span class=\"token punctuation\">,</span>\n    onRowSelectionChange<span class=\"token operator\">:</span> onRowSelectionChangeHandler<span class=\"token punctuation\">,</span>  <span class=\"token comment\">// here ğŸ™‹â€â™‚ï¸</span>\n    state<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> pagination<span class=\"token punctuation\">,</span> rowSelection <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token comment\">// ...</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><a href=\"https://tanstack.com/table/v8/docs/guide/row-selection#manage-row-selection-state\" target=\"_blank\" rel=\"nofollow\">Tanstack-tableì—ì„œ ì²´í¬ë°•ìŠ¤ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” ë³„ë„ì˜ ê¸°ëŠ¥ì„ ì œê³µí•´ì£¼ëŠ”ë°</a> rowSelectionì„ ì´ìš©í•˜ëŠ” ê²ƒì´ë‹¤.</p>\n<p>rowSelection stateë¥¼ ìƒì„±í•˜ê³  onRowSelectionChangeë©”ì„œë“œì— setRowSelectionì„ ë“±ë¡í•˜ë©´,<br>\nì²´í¬ë°•ìŠ¤ë¥¼ ì²´í¬í•  ë•Œë§ˆë‹¤ rowSelection ìƒíƒœê°€ ì—…ë°ì´íŠ¸ëœë‹¤.</p>\n<p>ì´ë¥¼ customí•´ì„œ, onRowSelectionChangeHandlerë¥¼ ë§Œë“¤ì—ˆë‹¤.<br>\nrowSelectionë„ ì—…ë°ì´íŠ¸í•˜ë©´ì„œ, ì²´í¬ëœ rowSelectionì— í•´ë‹¹í•˜ëŠ” í–‰ ë°ì´í„°ë„ selectedRowDataì— ë‹´ì•„ì¤€ë‹¤.</p>\n<br/>\n<p><strong>ë§Œì•½ getRowIdë¥¼ ì„¤ì •í–ˆë‹¤ë©´ ì¡°ê¸ˆ ë³€ê²½ì´ í•„ìš”í•˜ë‹¤.</strong><br>\n<a href=\"https://tanstack.com/table/latest/docs/api/core/table#getrowid\" target=\"_blank\" rel=\"nofollow\">ì–´ë– í•œ getRowIdë„ ì„¤ì •í•˜ì§€ ì•Šì€ ìƒíƒœë¼ë©´, Tanstack-tableì—ì„ , rowIdë¥¼ indexê°’ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤.</a></p>\n<p>í˜ì´ì§€ 1ì—ì„œ ë‘ ë²ˆì§¸, ì„¸ ë²ˆì§¸ ì²´í¬ë°•ìŠ¤ë¥¼ ì²´í¬í•˜ê³ , 2í˜ì´ì§€ë¡œ ì´ë™í–ˆì„ ë•Œ, rowIdê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ë‹¤ë©´,<br>\ní•´ë‹¹ 2í˜ì´ì§€ì—ì„œë„ ë‘ ë²ˆì§¸, ì„¸ ë²ˆì§¸ ì²´í¬ë°•ìŠ¤ ë°ì´í„°ëŠ” 1í˜ì´ì§€ì—ì„œì™€ ë™ì¼í•œ rowIdë¥¼ ê°€ì§€ê²Œ ëœë‹¤.</p>\n<p><img src=\"/7278e71a26e9ac6837cfa89959b230ec/get-row-id.gif\" alt=\"í˜ì´ì§€ë¥¼ ì´ë™í–ˆëŠ”ë°, ê¸°ì¡´ ì²´í¬í•œ ì²´í¬ë°•ìŠ¤ê°€ ë‚¨ì•„ìˆë‹¤.\"></p>\n<br/>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\">  <span class=\"token keyword\">const</span> onRowSelectionChangeHandler<span class=\"token operator\">:</span> OnChangeFn<span class=\"token operator\">&lt;</span>RowSelectionState<span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\n    updaterOrValue<span class=\"token operator\">:</span> Updater<span class=\"token operator\">&lt;</span>RowSelectionState<span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> updateRowSelection <span class=\"token operator\">=</span>\n      <span class=\"token keyword\">typeof</span> updaterOrValue <span class=\"token operator\">===</span> <span class=\"token string\">'function'</span>\n        <span class=\"token operator\">?</span> <span class=\"token function\">updaterOrValue</span><span class=\"token punctuation\">(</span>rowSelection<span class=\"token punctuation\">)</span>\n        <span class=\"token operator\">:</span> updaterOrValue<span class=\"token punctuation\">;</span>\n\n    <span class=\"token function\">setRowSelection</span><span class=\"token punctuation\">(</span>updateRowSelection<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">const</span> selectedRows <span class=\"token operator\">=</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">entries</span><span class=\"token punctuation\">(</span>updateRowSelection<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span>\n      <span class=\"token punctuation\">(</span>acc<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">,</span> isSelected<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>isSelected<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token keyword\">const</span> rowIndex <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span><span class=\"token function\">findIndex</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>row<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> row<span class=\"token punctuation\">.</span>inspectionCode <span class=\"token operator\">===</span> key<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// rowIndexë¥¼ ì°¾ì•„ì„œ ë„£ì–´ì¤Œ</span>\n          <span class=\"token keyword\">const</span> index <span class=\"token operator\">=</span> <span class=\"token function\">Number</span><span class=\"token punctuation\">(</span>rowIndex<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n          acc<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">return</span> acc<span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token keyword\">as</span> TData<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token function\">setSelectedRowData</span><span class=\"token punctuation\">(</span>selectedRows<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> table <span class=\"token operator\">=</span> <span class=\"token function\">useReactTable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    data<span class=\"token punctuation\">,</span>\n    columns<span class=\"token punctuation\">,</span>\n    getCoreRowModel<span class=\"token operator\">:</span> <span class=\"token function\">getCoreRowModel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    manualPagination<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    rowCount<span class=\"token operator\">:</span> total<span class=\"token punctuation\">,</span>\n    onPaginationChange<span class=\"token punctuation\">,</span>\n    onRowSelectionChange<span class=\"token operator\">:</span> onRowSelectionChangeHandler<span class=\"token punctuation\">,</span>\n    state<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> pagination<span class=\"token punctuation\">,</span> rowSelection <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    getRowId<span class=\"token punctuation\">,</span> <span class=\"token comment\">// propsë¡œ getRowId ì¶”ê°€</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>getRowIdë¥¼ ì¶”ê°€í–ˆë‹¤ë©´, rowIndexë¥¼ ì°¾ì•„ì„œ, ê·¸ì— ë§ëŠ” rowIndexë¥¼ ë„£ì–´ì£¼ë©´ ëœë‹¤.<br>\ngetRowIdë¥¼ customí•˜ê²Œ ë§Œë“¤ì§€ ì•Šê³ , useReactTableì— ì£¼ì…í•˜ëŠ” dataì˜ keyê°’ê³¼ ë™ì¼í•˜ë‹¤ë©´, filterë¥¼ ì¨ë„ ëœë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">const</span> onRowSelectionChangeHandler<span class=\"token operator\">:</span> OnChangeFn<span class=\"token operator\">&lt;</span>RowSelectionState<span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\n    updaterOrValue<span class=\"token operator\">:</span> Updater<span class=\"token operator\">&lt;</span>RowSelectionState<span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">//...</span>\n\n    <span class=\"token keyword\">const</span> selectedRows <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span>\n      <span class=\"token punctuation\">(</span>row<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> updateRowSelection<span class=\"token punctuation\">[</span>row<span class=\"token punctuation\">.</span>inspectionCode<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token function\">setSelectedRowData</span><span class=\"token punctuation\">(</span>selectedRows<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br/>\n<h3 id=\"2-rowselection--useeffect\" style=\"position:relative;\"><a href=\"#2-rowselection--useeffect\" aria-label=\"2 rowselection  useeffect permalink\" class=\"headerElement before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. rowSelection â†’ useEffect</h3>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> DataTable <span class=\"token operator\">=</span> <span class=\"token operator\">&lt;</span>TData<span class=\"token punctuation\">,</span> TValue<span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  data<span class=\"token punctuation\">,</span>\n  columns<span class=\"token punctuation\">,</span>\n  total<span class=\"token punctuation\">,</span>\n  pagination<span class=\"token punctuation\">,</span>\n  onPaginationChange<span class=\"token punctuation\">,</span>\n  getRowId<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> DataTableProps<span class=\"token operator\">&lt;</span>TData<span class=\"token punctuation\">,</span> TValue<span class=\"token operator\">></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>rowSelection<span class=\"token punctuation\">,</span> setRowSelection<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token generic-function\"><span class=\"token function\">useState</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>RowSelectionState<span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>selectedRowData<span class=\"token punctuation\">,</span> setSelectionRowData<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token generic-function\"><span class=\"token function\">useState</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>InventoryInspectionResponse<span class=\"token punctuation\">[</span><span class=\"token string\">'data'</span><span class=\"token punctuation\">]</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> table <span class=\"token operator\">=</span> <span class=\"token function\">useReactTable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    data<span class=\"token punctuation\">,</span>\n    columns<span class=\"token punctuation\">,</span>\n    getCoreRowModel<span class=\"token operator\">:</span> <span class=\"token function\">getCoreRowModel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    manualPagination<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    rowCount<span class=\"token operator\">:</span> total<span class=\"token punctuation\">,</span>\n    onPaginationChange<span class=\"token punctuation\">,</span>\n    onRowSelectionChange<span class=\"token operator\">:</span> setRowSelection<span class=\"token punctuation\">,</span>\n    state<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> pagination<span class=\"token punctuation\">,</span> rowSelection <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    getRowId<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">handleSelectionState</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>selections<span class=\"token operator\">:</span> RowSelectionState<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">setSelectionRowData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>prev<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n        Object<span class=\"token punctuation\">.</span><span class=\"token function\">keys</span><span class=\"token punctuation\">(</span>selections<span class=\"token punctuation\">)</span>\n          <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>\n            <span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n              table<span class=\"token punctuation\">.</span><span class=\"token function\">getSelectedRowModel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>rowsById<span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span><span class=\"token operator\">?.</span>original <span class=\"token operator\">||</span>\n              prev<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>row<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> row<span class=\"token punctuation\">.</span>inspectionCode <span class=\"token operator\">===</span> key<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token function\">handleSelectionState</span><span class=\"token punctuation\">(</span>rowSelection<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>rowSelection<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token comment\">// ...</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>useEffectëŠ” rowSelectionì„ ê¸°ë°˜ìœ¼ë¡œ selectedRowDataë¥¼ ë™ê¸°í™”ì‹œì¼œì£¼ëŠ” ê²ƒì´ë‹¤.<br>\nê°„ë‹¨í•˜ë©´ì„œ ì‰¬ìš´ ë°©ë²•ì´ë¼ê³  ìƒê°ëœë‹¤.</p>\n<br/>\n<h3 id=\"ì •ë¦¬\" style=\"position:relative;\"><a href=\"#%EC%A0%95%EB%A6%AC\" aria-label=\"ì •ë¦¬ permalink\" class=\"headerElement before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì •ë¦¬</h3>\n<p>ë‘ ê°€ì§€ ë°©ë²• ì¤‘ ì–´ë– í•œ ë°©ë²•ì„ ì‚¬ìš©í•  ì§€ëŠ” ì•„ì§ ë¯¸ì •ì´ë‹¤.<br>\nìƒí™©ê³¼ ê²½ìš°ì— ë”°ë¼ ë‹¤ë¥´ê² ì§€ë§Œ, ë‚˜ëŠ” ìµœëŒ€í•œ useEffectë¥¼ ì§€ì–‘í•œë‹¤.</p>\n<p>ê·¸ë˜ì„œ ì²« ë²ˆì§¸ ë°©ë²•ì„ ê³ ë ¤í•´ë³¸ ë’¤, ë³µì¡ë„ê°€ ë„ˆë¬´ ë†’ì•„ì§€ê³ , ê³µí†µìœ¼ë¡œ ì‘ì„±ëœ Tanstack-tableì˜ ìˆ˜ì •ì´ ë§ì•„ì§„ë‹¤ë©´,<br>\në‘ ë²ˆì§¸ ë°©ë²•ì„ ì‚¬ìš©í•  ê²ƒ ê°™ë‹¤.</p>\n<br/>\n<h3 id=\"ì°¸ê³ ìë£Œ\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EA%B3%A0%EC%9E%90%EB%A3%8C\" aria-label=\"ì°¸ê³ ìë£Œ permalink\" class=\"headerElement before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì°¸ê³ ìë£Œ</h3>\n<p><a href=\"https://github.com/TanStack/table/discussions/2155#discussioncomment-10056182\" target=\"_blank\" rel=\"nofollow\">get access to selected row data from outside table component #2155</a></p>","tableOfContents":"<ul>\n<li><a href=\"#1-onrowselectionchange\">1. onRowSelectionChange</a></li>\n<li><a href=\"#2-rowselection--useeffect\">2. rowSelection â†’ useEffect</a></li>\n<li><a href=\"#%EC%A0%95%EB%A6%AC\">ì •ë¦¬</a></li>\n<li><a href=\"#%EC%B0%B8%EA%B3%A0%EC%9E%90%EB%A3%8C\">ì°¸ê³ ìë£Œ</a></li>\n</ul>","frontmatter":{"title":"Tanstack-table ì²´í¬ë°•ìŠ¤ë¡œ ì„ íƒí•œ í–‰ ë°ì´í„° ì¶”ì¶œí•˜ê¸°","summary":"server side paginationì¼ ê²½ìš°, pagination index ë³€ê²½ì— ë”°ë¼ ì„ íƒí•œ ì²´í¬ë°•ìŠ¤ì˜ í–‰ ë°ì´í„°ë¥¼ ì¶”ì¶œí•´ë³´ì.","date":"2024.09.28.","categories":["ê°œë°œ"]}}}]}},"pageContext":{"slug":"/blog/2024/9/28/tanstack-table-row-selection/"}},"staticQueryHashes":["1629908903"]}