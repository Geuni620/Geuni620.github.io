{"componentChunkName":"component---src-templates-post-template-tsx","path":"/blog/2024/2/29/react-dev/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<p><a href=\"https://github.com/Geuni620/react-batching\" target=\"_blank\" rel=\"nofollow\">react-batching repo</a><br>\n<small>ê¸€ì„ ì‘ì„±í•˜ë©°, í…ŒìŠ¤íŠ¸í•œ ì½”ë“œëŠ” ìœ„ ë§í¬ì—ì„œ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ğŸ™‡â€â™‚ï¸</small></p>\n<blockquote>\n<p>í˜„ íšŒì‚¬ì—ì„œ React 16ë²„ì „ì„ ì“°ê³  ìˆë‹¤.\nì¸ìˆ˜ì¸ê³„ë¥¼ ìœ„í•œ ë¬¸ì„œë¥¼ í™•ì¸í•˜ë˜ ë„ì¤‘, ì•½ 1~2ë…„ì „ íšŒì‚¬ë‚´ ë°œí‘œìë£Œë¥¼ ë³´ê²Œ ëë‹¤.<br>\nReact 16ê³¼ 18ì˜ ë³€ê²½ì ì— ëŒ€í•´ ì†Œê°œí•˜ëŠ” ë°œí‘œìë£Œì˜€ëŠ”ë°, í•´ë‹¹ ë¶€ë¶„ì—ì„œ â€˜Automatic Batchingâ€™ ì´ë¼ëŠ” í‚¤ì›Œë“œë¥¼ ë³´ê²Œ ëë‹¤.<br>\nì‚¬ì‹¤ 18ì´ ì—…ë°ì´íŠ¸ ëì„ ë•Œ ê°€ì¥ í•«í•œ í‚¤ì›Œë“œëŠ” Concurrent Modeì˜€ëŠ”ë°, Automatic Batching..? ì´ê²Œ ë­˜ê¹Œ? ğŸ¤”</p>\n</blockquote>\n<h1 id=\"batching-vs-automatic-batching\" style=\"position:relative;\"><a href=\"#batching-vs-automatic-batching\" aria-label=\"batching vs automatic batching permalink\" class=\"headerElement before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Batching vs Automatic Batching</h1>\n<h3 id=\"batchingì´ë¼ëŠ”ê²Œ-ë­˜ê¹Œ\" style=\"position:relative;\"><a href=\"#batching%EC%9D%B4%EB%9D%BC%EB%8A%94%EA%B2%8C-%EB%AD%98%EA%B9%8C\" aria-label=\"batchingì´ë¼ëŠ”ê²Œ ë­˜ê¹Œ permalink\" class=\"headerElement before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Batchingì´ë¼ëŠ”ê²Œ ë­˜ê¹Œ?</h3>\n<p>ë¨¼ì € Batchingì´ë¼ëŠ” ë‹¨ì–´ë¶€í„° ì‚´í´ë³´ì.</p>\n<ul>\n<li>Batchingì€ ì„±ëŠ¥í–¥ìƒì„ ìœ„í•´ ì—¬ëŸ¬ state ì—…ë°ì´íŠ¸ëŠ” í•˜ë‚˜ì˜ ë¦¬ë Œë”ë§ìœ¼ë¡œ ê·¸ë£¹í™”í•˜ëŠ” ê²ƒì´ë‹¤.</li>\n<li>React 17ê³¼ ê·¸ ì´ì „ ë²„ì „ì—ì„œëŠ” React ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ <strong>ë‚´ì—ì„œë§Œ</strong> ì—…ë°ì´íŠ¸ê°€ ì¼ê´„ì²˜ë¦¬ë˜ì—ˆë‹¤.</li>\n<li>Promise, setTimeout, ë„¤ì´í‹°ë¸Œ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë“±ì˜ ì—…ë°ì´íŠ¸ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ Reactì—ì„œ ì¼ê´„ì²˜ë¦¬ ë˜ì§€ ì•Šì•˜ë‹¤.</li>\n</ul>\n<p><a href=\"https://react.dev/blog/2022/03/08/react-18-upgrade-guide#automatic-batching\" target=\"_blank\" rel=\"nofollow\">Automatic Batching ë¦¬ì•¡íŠ¸ ê³µì‹ë¬¸ì„œ</a></p>\n<p>ìœ„ ë‚´ìš©ì„ ì½ê³  ë‚˜ì„œ, ê¶ê¸ˆí•´ì¡Œë‹¤.<br>\nê°€ìƒë”ì´ ë³€ê²½ëœ DOMì„ í™•ì¸ í›„ stateë¥¼ í•œ ë²ˆì— ì—…ë°ì´íŠ¸ ì‹œí‚¤ëŠ”ë°,<br>\nì´ ë•Œë¬¸ì— ë¦¬ë Œë”ë§ì€ í•­ìƒ ì¼ê´„ì²˜ë¦¬ ëœë‹¤ê³  ìƒê°í•˜ê³  ìˆì—ˆë‹¤.<br>\nê·¸ëŸ¼ React18 ì´ì „ ë²„ì „ì—ì„œëŠ” ì•„ë‹ˆì—ˆë˜ê±¸ê¹Œ?</p>\n<h3 id=\"ê¸°ì¡´ì—”-ì–´ë–»ê²Œ-ë™ì‘í–ˆê¸¸ë˜\" style=\"position:relative;\"><a href=\"#%EA%B8%B0%EC%A1%B4%EC%97%94-%EC%96%B4%EB%96%BB%EA%B2%8C-%EB%8F%99%EC%9E%91%ED%96%88%EA%B8%B8%EB%9E%98\" aria-label=\"ê¸°ì¡´ì—” ì–´ë–»ê²Œ ë™ì‘í–ˆê¸¸ë˜ permalink\" class=\"headerElement before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ê¸°ì¡´ì—” ì–´ë–»ê²Œ ë™ì‘í–ˆê¸¸ë˜..?</h3>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">let</span> rerender <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">App</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>count<span class=\"token punctuation\">,</span> setCount<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>flag<span class=\"token punctuation\">,</span> setFlag<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">handleClick</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setCount</span><span class=\"token punctuation\">(</span>count <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">setFlag</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>flag<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    rerender<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n    <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>\n      <span class=\"token string\">\"ëª‡ ë²ˆì˜ ë Œë”ë§ì´ ì´ë£¨ì–´ì§€ë‚˜ìš”?\"</span><span class=\"token punctuation\">,</span> rerender<span class=\"token punctuation\">,</span>\n      <span class=\"token string\">\"counter: \"</span><span class=\"token punctuation\">,</span> count<span class=\"token punctuation\">,</span>\n      <span class=\"token string\">\"flag: \"</span><span class=\"token punctuation\">,</span> flag\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>count<span class=\"token punctuation\">,</span> flag<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>section</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      //...\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>section</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ê°„ë‹¨í•œ í…ŒìŠ¤íŠ¸ë¥¼ í•´ë³´ê¸° ìœ„í•´ ìœ„ì™€ ê°™ì´ ì†ŒìŠ¤ì½”ë“œë¥¼ ì¤€ë¹„í–ˆë‹¤.\në¨¼ì €, í•œ ë²ˆì˜ ë¦¬ë Œë”ë§ì´ ë  ê²ƒì´ë‹¤.\nê·¸ëŸ¼ re-render ê°’ì„ 1ì´ ë  ê²ƒì´ê³ , ì´í›„ì— ì´ˆê¸° stateê°’ì´ ì£¼ì–´ì§ˆ ê²ƒìœ¼ë¡œ ì˜ˆìƒëœë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">ëª‡ ë²ˆì˜ ë Œë”ë§ì´ ì´ë£¨ì–´ì§€ë‚˜ìš”? 1 counter: 0 flag: false</code></pre></div>\n<p>ì´í›„ì— í´ë¦­ì„ ì§„í–‰í•  ë•Œë§ˆë‹¤, stateëŠ” í•œ ë²ˆì— ì—…ë°ì´íŠ¸(Batching) ë í…Œë‹ˆ, rerender ê°’ì€ 1ì”© ì¦ê°€í•  ê²ƒì´ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">ëª‡ ë²ˆì˜ ë Œë”ë§ì´ ì´ë£¨ì–´ì§€ë‚˜ìš”? 2 counter: 1 flag: true\nëª‡ ë²ˆì˜ ë Œë”ë§ì´ ì´ë£¨ì–´ì§€ë‚˜ìš”? 3 counter: 1 flag: false\nëª‡ ë²ˆì˜ ë Œë”ë§ì´ ì´ë£¨ì–´ì§€ë‚˜ìš”? 4 counter: 1 flag: true</code></pre></div>\n<p><img src=\"/4cf7657d91c3c839d4d78f83939a9b9e/react17.gif\" alt=\"react17\"></p>\n<p>ì˜ ë™ì‘í•˜ëŠ” ê²ƒ ê°™ë‹¤.</p>\n<br/>\n<p>ê·¸ëŸ¼ ì´ì œ Automatich batchingì´ ì ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤ê³  ì í˜€ìˆë˜ ì‚¬í•­ ì¤‘ í•˜ë‚˜ì¸, setTimeoutìœ¼ë¡œ í…ŒìŠ¤íŠ¸í•´ë³´ì.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">let</span> rerender <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">App</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>count<span class=\"token punctuation\">,</span> setCount<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>flag<span class=\"token punctuation\">,</span> setFlag<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">//   const handleClick = () => {</span>\n<span class=\"token comment\">//     setCount(count + 1);</span>\n<span class=\"token comment\">//     setFlag(!flag);</span>\n<span class=\"token comment\">//   };</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">handleClick</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n<span class=\"token comment\">// setTimeoutì„ ì‚¬ìš©í•˜ì—¬ stateë¥¼ ì—…ë°ì´íŠ¸</span>\n  <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setCount</span><span class=\"token punctuation\">(</span>count <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">setFlag</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>flag<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    rerender<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n    <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>\n      <span class=\"token string\">\"ëª‡ ë²ˆì˜ ë Œë”ë§ì´ ì´ë£¨ì–´ì§€ë‚˜ìš”?\"</span><span class=\"token punctuation\">,</span> rerender<span class=\"token punctuation\">,</span>\n      <span class=\"token string\">\"counter: \"</span><span class=\"token punctuation\">,</span> count<span class=\"token punctuation\">,</span>\n      <span class=\"token string\">\"flag: \"</span><span class=\"token punctuation\">,</span> flag\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>count<span class=\"token punctuation\">,</span> flag<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>section</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      //...\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>section</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><img src=\"/1291eb05dd16be46364612a5f6469837/react17+setTimeout.gif\" alt=\"react17 + setTimeout\"></p>\n<p>ì•„í•˜..! ë Œë”ë§ì´ 2ë°°ë¡œ ë°œìƒí–ˆë‹¤.</p>\n<br/>\n<h3 id=\"ê·¸ëŸ¼-react18ì—ì„œëŠ”-ì–´ë–»ê²Œ-ë™ì‘í• ê¹Œ\" style=\"position:relative;\"><a href=\"#%EA%B7%B8%EB%9F%BC-react18%EC%97%90%EC%84%9C%EB%8A%94-%EC%96%B4%EB%96%BB%EA%B2%8C-%EB%8F%99%EC%9E%91%ED%95%A0%EA%B9%8C\" aria-label=\"ê·¸ëŸ¼ react18ì—ì„œëŠ” ì–´ë–»ê²Œ ë™ì‘í• ê¹Œ permalink\" class=\"headerElement before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ê·¸ëŸ¼ React18ì—ì„œëŠ” ì–´ë–»ê²Œ ë™ì‘í• ê¹Œ?</h3>\n<p>React18ì—ì„  ì–´ë–»ê²Œ ë™ì‘í• ê¹Œ?<br>\në™ì¼í•œ í™˜ê²½ì—ì„œ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•´ë³´ì</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token comment\">// ìœ„ì— react 17ì—ì„œ í…ŒìŠ¤íŠ¸í–ˆë˜ ë™ì¼í•œ ì½”ë“œ</span>\n<span class=\"token keyword\">let</span> rerender <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">App</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>count<span class=\"token punctuation\">,</span> setCount<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>flag<span class=\"token punctuation\">,</span> setFlag<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">handleClick</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setCount</span><span class=\"token punctuation\">(</span>count <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">setFlag</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>flag<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    rerender<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n    <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>\n      <span class=\"token string\">\"ëª‡ ë²ˆì˜ ë Œë”ë§ì´ ì´ë£¨ì–´ì§€ë‚˜ìš”?\"</span><span class=\"token punctuation\">,</span> rerender<span class=\"token punctuation\">,</span>\n      <span class=\"token string\">\"counter: \"</span><span class=\"token punctuation\">,</span> count<span class=\"token punctuation\">,</span>\n      <span class=\"token string\">\"flag: \"</span><span class=\"token punctuation\">,</span> flag\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>count<span class=\"token punctuation\">,</span> flag<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>section</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      //...\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>section</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><img src=\"/9ccb7d623ee8ccd51c9d5920c64ac9fb/react18+setTimeout.gif\" alt=\"react 18ë²„ì „ì˜ setTimeoutì„ ì´ìš©í•œ í…ŒìŠ¤íŠ¸ê²°ê³¼\"></p>\n<p>React 17ë²„ì „ì—ì„œëŠ” ë‘ ë²ˆ ë¦¬ë Œë”ë§ ë˜ë˜ í˜„ìƒì´, React 18ë²„ì „ì—ì„œëŠ” ì¼ê´„ì²˜ë¦¬ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p>\n<br/>\n<h3 id=\"react18ì—ì„œ-ì¶”ê°€ëœ-ê²Œ-ë¬´ì—‡ì´ê¸¸ë˜-automatic-batchingì´-ê°€ëŠ¥í•´ì§„ê±¸ê¹Œ\" style=\"position:relative;\"><a href=\"#react18%EC%97%90%EC%84%9C-%EC%B6%94%EA%B0%80%EB%90%9C-%EA%B2%8C-%EB%AC%B4%EC%97%87%EC%9D%B4%EA%B8%B8%EB%9E%98-automatic-batching%EC%9D%B4-%EA%B0%80%EB%8A%A5%ED%95%B4%EC%A7%84%EA%B1%B8%EA%B9%8C\" aria-label=\"react18ì—ì„œ ì¶”ê°€ëœ ê²Œ ë¬´ì—‡ì´ê¸¸ë˜ automatic batchingì´ ê°€ëŠ¥í•´ì§„ê±¸ê¹Œ permalink\" class=\"headerElement before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>React18ì—ì„œ ì¶”ê°€ëœ ê²Œ ë¬´ì—‡ì´ê¸¸ë˜, Automatic batchingì´ ê°€ëŠ¥í•´ì§„ê±¸ê¹Œ?</h3>\n<p>react 17ê³¼ 18ì˜ ì–´ë–¤ ì ì´ ë‹¬ë¼ì¡Œê¸¸ë˜, 18ì—ì„œëŠ” Automatic batchingì´ ê°€ëŠ¥í•´ì§„ê±¸ê¹Œ? ğŸ¤”<br>\nì´ê±´, ë¦¬ì•¡íŠ¸ê°€ ë Œë”ë§í•  íŠ¸ë¦¬ ì¤‘ ê°€ì¥ ìµœìƒë‹¨ì¸, Rootê°€ ìƒì„±ë˜ëŠ” ì†ŒìŠ¤ì½”ë“œë¥¼ ì‚´í´ë³´ì</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token comment\">// react 17</span>\n<span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> ReactDOM <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-dom\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">//...</span>\n\nReactDOM<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">React.StrictMode</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">App</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">React.StrictMode</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">,</span>\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"root\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">//---</span>\n\n<span class=\"token comment\">// react 18</span>\n<span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n<span class=\"token keyword\">import</span> ReactDOM <span class=\"token keyword\">from</span> <span class=\"token string\">'react-dom/client'</span>\n<span class=\"token comment\">//...</span>\n\nReactDOM<span class=\"token punctuation\">.</span><span class=\"token function\">createRoot</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'root'</span><span class=\"token punctuation\">)</span><span class=\"token operator\">!</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">React.StrictMode</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">App</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">React.StrictMode</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<p>ë‘˜ì˜ ë‹¤ë¥¸ ì ì„ ì°¾ì•„ë³´ì</p>\n<p>17ë²„ì „ì—ì„œëŠ” <code class=\"language-text\">ReactDOM.render</code>ë¥¼ ì‚¬ìš©í•˜ì—¬ Rootë¥¼ ìƒì„±í–ˆê³ ,<br>\n18ë²„ì „ì—ì„œëŠ” <code class=\"language-text\">ReactDOM.createRoot</code>ë¥¼ ì‚¬ìš©í•˜ì—¬ Rootë¥¼ ìƒì„±í–ˆë‹¤.</p>\n<br/>\n<p>ì•„í•˜, createRootë¼ëŠ”ê²Œ ìƒˆë¡­ê²Œ ì¶”ê°€ëœ ê²ƒ ê°™ë‹¤.<br>\nê·¸ëŸ¼, React 18ì—ì„œ createRootë¥¼ ì œê±°í•œ ìƒíƒœë¡œ, 17ë²„ì „ê³¼ ë™ì¼í•˜ê²Œ ì ìš©í•˜ë©´, automatic batchingì´ ì ìš©ë˜ì§€ ì•Šê² ì§€?</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token comment\">// react 18</span>\n<span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> ReactDOM <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-dom\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> App <span class=\"token keyword\">from</span> <span class=\"token string\">\"./App.tsx\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token string\">\"./index.css\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// ReactDOM.createRoot(document.getElementById('root')!).render(</span>\n<span class=\"token comment\">//   &lt;React.StrictMode></span>\n<span class=\"token comment\">//     &lt;App /></span>\n<span class=\"token comment\">//   &lt;/React.StrictMode>,</span>\n<span class=\"token comment\">// )</span>\n\nReactDOM<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">React.StrictMode</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">App</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">React.StrictMode</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">,</span>\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"root\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e1abdcee85d6aa3781319a21f98ad313/78ac0/react18%2Brender%2BsetTimeout.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 40.10416666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABSklEQVQoz3WQ206DQBRF+/+f4D8Yn330wWg0qdhGRaBtLGpLgUEuw6XMzDJAq8TLSXZ2JpOzztlnkheS6fwR21vx5C55eX3HerCRZUlXppSImYV/e0Pu2NRLl9J77iU7uTbSc0gcj6W1YNIqRZJmfGQ5Ikkpy4Y0y2nb9gsYWBbu5TXv0ylifk80n/WQejGoWnhk3pLVncuEURWyxFB/vY0xvYu8wN9sCURKmBZEeU3T/QP64N34563qgAapDKcFXAQV3vkJVSK/gQbiWLBe+2yDkCgSRCKjbhRaa5TSve9bjfNWDcBKw1lusOOG8CrsQWa0YQd8WftsgohdKAjjjLJWaANKm973rcF5q5kcm5pqj78VyFaP4h6AIhk23MWEkSAUGfI/4LHZjO421m9g0kfuNjRjoDoCR/GGm43i/gQGA3AXpciq/RP4CQIFZNsuW65oAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/e1abdcee85d6aa3781319a21f98ad313/a59e9/react18%2Brender%2BsetTimeout.webp 192w,\n/static/e1abdcee85d6aa3781319a21f98ad313/0ca9f/react18%2Brender%2BsetTimeout.webp 384w,\n/static/e1abdcee85d6aa3781319a21f98ad313/dc9b9/react18%2Brender%2BsetTimeout.webp 768w,\n/static/e1abdcee85d6aa3781319a21f98ad313/e2c2f/react18%2Brender%2BsetTimeout.webp 1152w,\n/static/e1abdcee85d6aa3781319a21f98ad313/f3efb/react18%2Brender%2BsetTimeout.webp 1536w,\n/static/e1abdcee85d6aa3781319a21f98ad313/2808e/react18%2Brender%2BsetTimeout.webp 2694w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/e1abdcee85d6aa3781319a21f98ad313/3b721/react18%2Brender%2BsetTimeout.png 192w,\n/static/e1abdcee85d6aa3781319a21f98ad313/66595/react18%2Brender%2BsetTimeout.png 384w,\n/static/e1abdcee85d6aa3781319a21f98ad313/fe486/react18%2Brender%2BsetTimeout.png 768w,\n/static/e1abdcee85d6aa3781319a21f98ad313/d2d74/react18%2Brender%2BsetTimeout.png 1152w,\n/static/e1abdcee85d6aa3781319a21f98ad313/e8464/react18%2Brender%2BsetTimeout.png 1536w,\n/static/e1abdcee85d6aa3781319a21f98ad313/78ac0/react18%2Brender%2BsetTimeout.png 2694w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/e1abdcee85d6aa3781319a21f98ad313/fe486/react18%2Brender%2BsetTimeout.png\"\n            alt=\"ì´ê±´ GIFê°€ ì•„ë‹ˆì—ìš”, ê¸°ë‹¤ë¦¬ì…”ë„ ë°”ë€Œì§€ ì•Šì•„ìš”!\"\n            title=\"ì´ê±´ GIFê°€ ì•„ë‹ˆì—ìš”, ê¸°ë‹¤ë¦¬ì…”ë„ ë°”ë€Œì§€ ì•Šì•„ìš”!\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">ì´ê±´ GIFê°€ ì•„ë‹ˆì—ìš”, ê¸°ë‹¤ë¦¬ì…”ë„ ë°”ë€Œì§€ ì•Šì•„ìš”!</figcaption>\n  </figure></p>\n<p>ë¡œì»¬ì—ì„œ ë¦¬ì•¡íŠ¸ë¥¼ ì‹¤í–‰í•˜ìë§ˆì, ë‹¤ìŒê³¼ ê°™ì€ Warning ë¬¸êµ¬ë¥¼ ë„ì›Œì¤€ë‹¤.<br>\ní•´ë‹¹ ë‚´ìš©ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.</p>\n<blockquote>\n<p>ReactDOM.renderëŠ” React 18ì—ì„œ ë” ì´ìƒ ì§€ì›ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ëŒ€ì‹  createRootë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.<br>\n<strong>ìƒˆ APIë¡œ ì „í™˜í•˜ê¸° ì „ê¹Œì§€ëŠ” ì•±ì´ React 17ì„ ì‹¤í–‰í•˜ëŠ” ê²ƒì²˜ëŸ¼ ë™ì‘í•©ë‹ˆë‹¤.</strong></p>\n</blockquote>\n<br/>\n<p>í™•ì¸ê²°ê³¼, <strong>createRoot</strong>ë¼ëŠ” ìƒˆë¡œìš´ APIê°€ Reactì˜ 18ë²„ì „ì—ì„œ ì¶”ê°€ëê³ , ì´ APIë¡œ ì¸í•´, Automatic Batchingì´ ê°€ëŠ¥í•´ì§„ ê²ƒìœ¼ë¡œ ë³´ì¸ë‹¤.</p>\n<br/>\n<h3 id=\"createrootê°€-ì¶”ê°€ëœ-ì´ìœ \" style=\"position:relative;\"><a href=\"#createroot%EA%B0%80-%EC%B6%94%EA%B0%80%EB%90%9C-%EC%9D%B4%EC%9C%A0\" aria-label=\"createrootê°€ ì¶”ê°€ëœ ì´ìœ  permalink\" class=\"headerElement before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>createRootê°€ ì¶”ê°€ëœ ì´ìœ ..?</h3>\n<p><a href=\"https://github.com/reactwg/react-18/discussions/5\" target=\"_blank\" rel=\"nofollow\">Replacing render with createRoot #5</a></p>\n<p>ìœ„ ë¬¸ì„œë¥¼ ì°¸ê³ í•´ë³´ë©´, ë‹¤ìŒê³¼ ê°™ì€ ì´ìœ ë¡œ createRootê°€ ì¶”ê°€ë˜ì—ˆë‹¤ê³  í•œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// legacy API</span>\n<span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> ReactDOM <span class=\"token keyword\">from</span> <span class=\"token string\">'react-dom'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> App <span class=\"token keyword\">from</span> <span class=\"token string\">'App'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> container <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'app'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// ìµœì´ˆ ë Œë”ë§</span>\nReactDOM<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">App</span></span> <span class=\"token attr-name\">tab</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>home<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">,</span> container<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// ì—…ë°ì´íŠ¸í•˜ëŠ” ë™ì•ˆ ReactëŠ”</span>\n<span class=\"token comment\">// DOM ìš”ì†Œì˜ Rootì— Access</span>\nReactDOM<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">App</span></span> <span class=\"token attr-name\">tab</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>profile<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">,</span> container<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// ---</span>\n\n<span class=\"token comment\">// New Root API</span>\n<span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> ReactDOMClient <span class=\"token keyword\">from</span> <span class=\"token string\">'react-dom/client'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> App <span class=\"token keyword\">from</span> <span class=\"token string\">'App'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> container <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'app'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// rootë¥¼ ìƒì„±</span>\n<span class=\"token keyword\">const</span> root <span class=\"token operator\">=</span> ReactDOMClient<span class=\"token punctuation\">.</span><span class=\"token function\">createRoot</span><span class=\"token punctuation\">(</span>container<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// ìµœì´ˆ ë Œë”ë§: elementë¥¼ rootì— ë Œë”ë§í•¨</span>\nroot<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">App</span></span> <span class=\"token attr-name\">tab</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>home<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// ì—…ë°ì´íŠ¸í•˜ëŠ” ë™ì•ˆ, containerë¥¼ ë‹¤ì‹œ ì „ë‹¬í•  í•„ìš” ì—†ìŒ.</span>\nroot<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">App</span></span> <span class=\"token attr-name\">tab</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>profile<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>API ë¥¼ ë³€ê²½í•œ ë‘ ê°€ì§€ ì´ìœ ë¥¼ ì„¤ëª…í•´ì£¼ëŠ”ë°, ì´ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.</p>\n<ol>\n<li>\n<p>ì—…ë°ì´íŠ¸ë¥¼ ì‹¤í–‰í•  ë•Œ, APIì˜ ì¼ë¶€ ì¸ì²´ê³µí•™ì  ë¬¸ì œë¥¼ í•´ê²°í–ˆìŒ</p>\n<ul>\n<li>ì´ëŠ”, ìœ„ì— í‘œì‹œëœ ê²ƒì²˜ëŸ¼ ë ˆê±°ì‹œ APIì—ì„œëŠ” ì»¨í…Œì´ë„ˆê°€ ë³€ê²½ë˜ì§€ ì•Šë”ë¼ë„, ë Œë”ë§ì— ì»¨í…Œì´ë„ˆë¥¼ ê³„ì† ì „ë‹¬í•´ì•¼í•¨</li>\n<li>ì´ ë˜í•œ, í˜„ì¬ë„ ì—¬ì „íˆ DOM ë…¸ë“œì— ë£¨íŠ¸ë¥¼ ì €ì¥í•  í•„ìš”ê°€ ì—†ë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•¨.</li>\n</ul>\n</li>\n<li>\n<p>ìœ„ ë³€ê²½ì„ í†µí•´, Hydration ë©”ì„œë“œ ì œê±°, Rootì—ì„œ ì˜µì…˜ìœ¼ë¡œ ëŒ€ì²´ ê°€ëŠ¥, ë¶€ë¶„ì  Hydrationì„ ì‚¬ìš©í•˜ëŠ” í™˜ê²½ì—ì„œëŠ” ì˜ë¯¸ê°€ ì—†ëŠ” ë Œë”ë§ ì½œë°±ì„ ì œê±°í•  ìˆ˜ ìˆìŒ</p>\n</li>\n</ol>\n<br/>\n<p>ìŒ.. ì™„ì „íˆ ì´í•´í•˜ì§„ ëª»í–ˆì§€ë§Œ, 1ì´ automatic batchingê³¼ ì—°ê´€ë˜ëŠ” ë“¯í•˜ë‹¤.</p>\n<br/>\n<h3 id=\"ë§Œì•½-ê°•ì œë¡œ-ë‹¤ì‹œ-ê°ê°ì˜-ë¦¬ë Œë”ë§ì„-ìœ ë°œí•˜ê³ -ì‹¶ë‹¤ë©´\" style=\"position:relative;\"><a href=\"#%EB%A7%8C%EC%95%BD-%EA%B0%95%EC%A0%9C%EB%A1%9C-%EB%8B%A4%EC%8B%9C-%EA%B0%81%EA%B0%81%EC%9D%98-%EB%A6%AC%EB%A0%8C%EB%8D%94%EB%A7%81%EC%9D%84-%EC%9C%A0%EB%B0%9C%ED%95%98%EA%B3%A0-%EC%8B%B6%EB%8B%A4%EB%A9%B4\" aria-label=\"ë§Œì•½ ê°•ì œë¡œ ë‹¤ì‹œ ê°ê°ì˜ ë¦¬ë Œë”ë§ì„ ìœ ë°œí•˜ê³  ì‹¶ë‹¤ë©´ permalink\" class=\"headerElement before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë§Œì•½ ê°•ì œë¡œ ë‹¤ì‹œ ê°ê°ì˜ ë¦¬ë Œë”ë§ì„ ìœ ë°œí•˜ê³  ì‹¶ë‹¤ë©´?</h3>\n<p>ì•„ì§, ë‚˜ëŠ” ì´ëŸ° ê²½ìš°ë¥¼ í•œ ë²ˆë„ ì ‘í•˜ì§€ ëª»í–ˆì§€ë§Œ ì¼ê´„ì²˜ë¦¬ê°€ ì•„ë‹Œ ê°ê° ë¦¬ë Œë”ë§ ë˜ê¸¸ ë°”ë„ ìˆ˜ë„ ìˆë‹¤.<br>\nì´ ê²½ìš°ì—” <a href=\"https://react.dev/reference/react-dom/flushSync\" target=\"_blank\" rel=\"nofollow\">flushSync</a>ë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> flushSync <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-dom\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> rerender <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">App</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>count<span class=\"token punctuation\">,</span> setCount<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>flag<span class=\"token punctuation\">,</span> setFlag<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">handleClick</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// flushSync APIë¥¼ ì¶”ê°€í•´ì¤Œ</span>\n    <span class=\"token function\">flushSync</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">setCount</span><span class=\"token punctuation\">(</span>count <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token function\">flushSync</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">setFlag</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>flag<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    rerender<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n    <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>\n      <span class=\"token string\">\"ëª‡ ë²ˆì˜ ë Œë”ë§ì´ ì´ë£¨ì–´ì§€ë‚˜ìš”?\"</span><span class=\"token punctuation\">,</span> rerender<span class=\"token punctuation\">,</span>\n      <span class=\"token string\">\"counter: \"</span><span class=\"token punctuation\">,</span> count<span class=\"token punctuation\">,</span>\n      <span class=\"token string\">\"flag: \"</span><span class=\"token punctuation\">,</span> flag\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>count<span class=\"token punctuation\">,</span> flag<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>section</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      //...\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>section</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/5034727d25361aee2933eaea593753e7/78ac0/react18%2BflushSync.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 40.10416666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABPUlEQVQoz3WSzU6EMBRG5/0fwXcwrl26cmdMjEp0MqPOj8MAZYCWAoV7TIsz4t9NmtK0nJ6vubNKG27uHojmSx6fF7yut9zeR5ja4ksE8kPBerNFG4ttWmrb4XphEKEfJJyx7cB82zBzfU9elBzKCpUX1HVLUVY4149AIFM5r28rdnFCkiqSrAyAQQhAP3dOeNo0zJiUNjVCc1qLv3oCjPcpaZaT5hVN92V4BD5vA1AwvXCu4Sq2zC/PsLn5E/gep+y9oSqp/zcU7AAXlRBlLcl1EkDyA/jmI++zMbIqMU0f3u6X4fGn1nasdgrjhonduKc8cLUmTtRnZG/4A9hP3vBodPqeDF9JmrFYvrB5T4JlnB7Q1gWQ88ABWidEa8uMSbwA+BZ3bAmtDUopilLj26zUNW03dsEgcjLd5R0f4g1q1gKjXLAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/5034727d25361aee2933eaea593753e7/a59e9/react18%2BflushSync.webp 192w,\n/static/5034727d25361aee2933eaea593753e7/0ca9f/react18%2BflushSync.webp 384w,\n/static/5034727d25361aee2933eaea593753e7/dc9b9/react18%2BflushSync.webp 768w,\n/static/5034727d25361aee2933eaea593753e7/e2c2f/react18%2BflushSync.webp 1152w,\n/static/5034727d25361aee2933eaea593753e7/f3efb/react18%2BflushSync.webp 1536w,\n/static/5034727d25361aee2933eaea593753e7/2808e/react18%2BflushSync.webp 2694w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/5034727d25361aee2933eaea593753e7/3b721/react18%2BflushSync.png 192w,\n/static/5034727d25361aee2933eaea593753e7/66595/react18%2BflushSync.png 384w,\n/static/5034727d25361aee2933eaea593753e7/fe486/react18%2BflushSync.png 768w,\n/static/5034727d25361aee2933eaea593753e7/d2d74/react18%2BflushSync.png 1152w,\n/static/5034727d25361aee2933eaea593753e7/e8464/react18%2BflushSync.png 1536w,\n/static/5034727d25361aee2933eaea593753e7/78ac0/react18%2BflushSync.png 2694w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/5034727d25361aee2933eaea593753e7/fe486/react18%2BflushSync.png\"\n            alt=\"react18 flushSync\"\n            title=\"react18 flushSync\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>ìœ„ì™€ ê°™ì´ ê°ê°ì˜ stateë¥¼ ë™ê¸°ì ìœ¼ë¡œ ë¦¬ë Œë”ë§ ì‹œí‚¬ ìˆ˜ ìˆë‹¤.<br>\në‹¨, ê³µì‹ë¬¸ì„œì—ì„œë„ ê¶Œì¥í•˜ëŠ” ë°©ë²•ì´ ì•„ë‹ˆë¼ê³  í•˜ë‹ˆ ìµœí›„ì˜ ìˆ˜ë‹¨ìœ¼ë¡œ ì‚¬ìš©ë˜ì–´ì•¼í•œë‹¤.</p>\n<br/>\n<h3 id=\"useeffectê°€-ë‘-ë²ˆ-ë Œë”ë§-ë˜ëŠ”-ì´ìœ \" style=\"position:relative;\"><a href=\"#useeffect%EA%B0%80-%EB%91%90-%EB%B2%88-%EB%A0%8C%EB%8D%94%EB%A7%81-%EB%90%98%EB%8A%94-%EC%9D%B4%EC%9C%A0\" aria-label=\"useeffectê°€ ë‘ ë²ˆ ë Œë”ë§ ë˜ëŠ” ì´ìœ  permalink\" class=\"headerElement before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>useEffectê°€ ë‘ ë²ˆ ë Œë”ë§ ë˜ëŠ” ì´ìœ </h3>\n<p>ì§€ê¸ˆê¹Œì§€ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í–ˆë˜ ê³¼ì • ì¤‘, í•œ ê°€ì§€ ë” ëˆˆì— ë„ëŠ” ê²ƒì´ ìˆì—ˆë‹¤. ğŸ‘€<br>\nreact 17ë²„ì „ì—ì„œëŠ” ì´ˆê¸° ë Œë”ë§ ë˜ì—ˆì„ ë•Œ, <strong>â€œëª‡ ë²ˆì˜ ë Œë”ë§ì´ ì´ë£¨ì–´ì§€ë‚˜ìš”?â€ ë¡œê·¸ì— 1ì´ ì¶œë ¥ëì§€ë§Œ</strong>,<br>\nreact 18ë²„ì „ì—ì„œëŠ” ì´ˆê¸° ë Œë”ë§ ë˜ì—ˆì„ ë•Œ, <strong>2ê°€ ì¶œë ¥ëë‹¤.</strong><br>\nì´ ì´ìœ ë„ ê°™ì´ ì‚´í´ë³´ì.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/cb17ec87b4af413c3d7535d470118998/78ac0/useEffect-second.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 72.91666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB5klEQVQ4y5WT647aMBSE8/4v0J/9WbXP0PYF+FGkrboLJUAIJCTOjdyd2P4qzKXshVU70uhY8tH42DN2IpHyOHfxtgHbMMLfhczdNVppLKqS7GFKNHuk3XrIfUC/2zL6a44dShu0NgzK4MUSp6obNruQKMkoyoqiKAkjgdYnQTMMjEnMmCWoPEUXma2mOpz2jblWOWgcLtCapm14BmMw3Met2AUOGIJB862FqbcmnHxC9vaEo55tvkte71vBWWf40MDSrdl9fTqdqs37Ynd4vbKUPV1d8+94+zGcXo6MytC0A6LoKeqRolaveGiOHM9VcWgNha3a0q4bjROLjEjkiLxjE0v8WLKJe3whLTdCshbDmSOrSOKGDb6fEiYdq7BhGTYEqcTbVzi3Dr102D5F1xH8XrB3V+wWPulmS7L2SHcB+aEmyUrLrKjZixzHD/ZMfjzYMP+auyy9LdOfTyilTsJ1iZg9Enpr8iCgTRMqkTCEwcnlM5Uydnqnl5LiUHEMeFnV9P1g19dgS0l//B0iQl+CnSXoQ/4sNtoYqk7dBFtpqvbo8vgsuOZdo2+Dbf4G2+01n2uYzBf43z8yDi+Crd8PNjeT2gmX0vClhf2mJZnE12DfNr78YvdwdVl1LVVZvinyP4J/AFyhjeKr325jAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/cb17ec87b4af413c3d7535d470118998/a59e9/useEffect-second.webp 192w,\n/static/cb17ec87b4af413c3d7535d470118998/0ca9f/useEffect-second.webp 384w,\n/static/cb17ec87b4af413c3d7535d470118998/dc9b9/useEffect-second.webp 768w,\n/static/cb17ec87b4af413c3d7535d470118998/e2c2f/useEffect-second.webp 1152w,\n/static/cb17ec87b4af413c3d7535d470118998/f3efb/useEffect-second.webp 1536w,\n/static/cb17ec87b4af413c3d7535d470118998/2808e/useEffect-second.webp 2694w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/cb17ec87b4af413c3d7535d470118998/3b721/useEffect-second.png 192w,\n/static/cb17ec87b4af413c3d7535d470118998/66595/useEffect-second.png 384w,\n/static/cb17ec87b4af413c3d7535d470118998/fe486/useEffect-second.png 768w,\n/static/cb17ec87b4af413c3d7535d470118998/d2d74/useEffect-second.png 1152w,\n/static/cb17ec87b4af413c3d7535d470118998/e8464/useEffect-second.png 1536w,\n/static/cb17ec87b4af413c3d7535d470118998/78ac0/useEffect-second.png 2694w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/cb17ec87b4af413c3d7535d470118998/fe486/useEffect-second.png\"\n            alt=\"18ì—ì„œ 17ê³¼ ë‹¬ë¦¬ logê°€ 2ë²ˆ ì°í˜€ìˆëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\"\n            title=\"18ì—ì„œ 17ê³¼ ë‹¬ë¦¬ logê°€ 2ë²ˆ ì°í˜€ìˆëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">18ì—ì„œ 17ê³¼ ë‹¬ë¦¬ logê°€ 2ë²ˆ ì°í˜€ìˆëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</figcaption>\n  </figure></p>\n<p>React 18ë¡œ ì—…ë°ì´íŠ¸ ë˜ë©´ì„œ, í•˜ë‚˜ ë” ì¶”ê°€ëœ ê¸°ëŠ¥ì´ ìˆëŠ”ë°, ë°”ë¡œ <a href=\"https://react.dev/blog/2022/03/29/react-v18#new-strict-mode-behaviors\" target=\"_blank\" rel=\"nofollow\">Strict mode</a>ê°€ ë” ì—„ê²©í•´ì¡Œë‹¤ëŠ” ê²ƒì´ë‹¤.\nê¸°ì¡´ì—ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ë™ì‘í–ˆì—ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">* React mounts the component. // ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆìš´íŠ¸ë¨\n  * Layout effects are created. // ë ˆì´ì•„ì›ƒ ì´í™íŠ¸ê°€ ìƒì„±ë¨\n  * Effects are created.  // ì´í™íŠ¸ê°€ ìƒì„±ë¨</code></pre></div>\n<p>í•˜ì§€ë§Œ, React 18ì˜ Strict modeì—ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì´ ë™ì‘í•œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">* React mounts the component. // ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆìš´íŠ¸ë¨\n  * Layout effects are created. // ë ˆì´ì•„ì›ƒ ì´í™íŠ¸ê°€ ìƒì„±ë¨\n  * Effects are created.  // ì´í™íŠ¸ê°€ ìƒì„±ë¨\n* React simulates unmounting the component. // ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆìš´íŠ¸ í•´ì œë¨\n  * Layout effects are destroyed. // ë ˆì´ì•„ì›ƒ ì´í™íŠ¸ê°€ íŒŒê´´ë¨\n  * Effects are destroyed.  // ì´í™íŠ¸ê°€ íŒŒê´´ë¨\n* React simulates mounting the component with the previous state. // ì´ì „ ìƒíƒœë¡œ ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆìš´íŠ¸ë¨\n  * Layout effects are created. // ë ˆì´ì•„ì›ƒ ì´í™íŠ¸ê°€ ìƒì„±ë¨\n  * Effects are created.  // ì´í™íŠ¸ê°€ ìƒì„±ë¨</code></pre></div>\n<ul>\n<li>ì¦‰, Strict modeì—ì„œ ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆìš´íŠ¸ ëë‹¤ê°€, í•´ì œëë‹¤ê°€, ë‹¤ì‹œ ë§ˆìš´íŠ¸ë˜ë©´ì„œ useEffectê°€ ë‘ ë²ˆ ì‹¤í–‰ë˜ëŠ” ê²ƒì´ë‹¤.</li>\n<li>ì´ë¥¼ í†µí•´, useEffectì˜ clean upì´ ì •ìƒ ë™ì‘í–ˆëŠ”ì§€ë¥¼ Reactê°€ ìì²´ í™•ì¸í•´ì£¼ëŠ” ê²ƒì´ì—ˆë‹¤.</li>\n</ul>\n<br/>\n<p><a href=\"https://react.dev/blog/2022/03/29/react-v18#new-strict-mode-behaviors\" target=\"_blank\" rel=\"nofollow\"></a></p>\n<br/>\n<h3 id=\"ë§ˆì¹˜ë©°\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"ë§ˆì¹˜ë©° permalink\" class=\"headerElement before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë§ˆì¹˜ë©°</h3>\n<p>ì•Œê²Œ ëœ ë‚´ìš©ì„ ì ê³ ì í–ˆë˜ ê¸€ì—ì„œ, ì ë‹¤ë³´ë‹ˆ ëª¨ë¥´ëŠ”ê²Œ ë” ë§ì´ ìƒê¸´ ê²ƒ ê°™ë‹¤.</p>\n<ul>\n<li>createRootê°€ ì–´ë–»ê²Œ ë™ì‘í•˜ê¸¸ë˜, batchingì—ì„œ Automatic batchingìœ¼ë¡œ ë°”ë€Œì—ˆëŠ”ì§€,</li>\n<li>useEffectì˜ clean-upì„ ì‘ì„±í•˜ì§€ ì•Šì•„, ë©”ëª¨ë¦¬ ë¦­ì„ ì¼ë¶€ëŸ¬ ì¬í˜„í•´ë³´ê³ ì í–ˆìœ¼ë‚˜, ì‹¤íŒ¨í–ˆë‹¤. ì–´ë–»ê²Œ ì¬í˜„í•  ìˆ˜ ìˆëŠ”ì§€.</li>\n</ul>\n<p>ì´ ì™¸ì—ì„œ ê³µì‹ë¬¸ì„œë¥¼ ì½ìœ¼ë©°, ê¶ê¸ˆí•œ ê²ƒë“¤ì´ ê³„ì† ëŠ˜ì–´ë‚œë‹¤.</p>\n<ul>\n<li>ì™œ ë¦¬ì•¡íŠ¸ëŠ” ë¶ˆë³€ì„±ì„ ìœ ì§€í•´ì•¼í•˜ëŠ”ì§€.</li>\n<li>setStateëŠ” ê³¼ì—° ë¹„ë™ê¸°ì¸ì§€ ë“±ë“±</li>\n</ul>\n<p>ì•Œë©´ ì•Œìˆ˜ë¡ â€˜ì´ì   ì •ë§ ì•Œ ê²ƒ ê°™ì•„!â€™ ë¼ëŠ” ìƒê°ë³´ë‹¤, ê¶ê¸ˆí•œê²Œ ë” ë§ì´ ìƒê¸°ê³ , ë‚´ê°€ ì–¼ë§ˆë‚˜ ì£¼ë¡œ ì‚¬ìš©í•˜ëŠ” ê¸°ìˆ ìŠ¤íƒì˜ ê·¼ë³¸ì„ ëª¨ë¥´ê³  ì‚¬ìš©í–ˆì—ˆëŠ”ì§€.. ë¶€ë„ëŸ½ë‹¤.<br>\në‹¤ìŒì—ë„ ë¦¬ì•¡íŠ¸ ê¸€ì„ ì“°ê²Œ ë  ê²ƒ ê°™ë‹¤.<br>\nì•ìœ¼ë¡œëŠ” ë¶€ì§€ëŸ°íˆ ëª¨ë¥´ëŠ” ê²ƒì„ ë””ê¹…í•´ì„œ ê²©íŒŒí•´ì•¼ê² ë‹¤! ğŸ‘ŠğŸ”¥</p>\n<br/>\n<h3 id=\"ì°¸ê³ ìë£Œ\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EA%B3%A0%EC%9E%90%EB%A3%8C\" aria-label=\"ì°¸ê³ ìë£Œ permalink\" class=\"headerElement before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì°¸ê³ ìë£Œ</h3>\n<p><a href=\"https://stackoverflow.com/questions/74695028/vite-typescript-for-react-17\" target=\"_blank\" rel=\"nofollow\">Vite Typescript for React 17</a></p>\n<ul>\n<li>react 17 setupì„ ìœ„í•´ ì°¸ê³ </li>\n</ul>\n<p><a href=\"https://react.dev/blog/2022/03/08/react-18-upgrade-guide#automatic-batching\" target=\"_blank\" rel=\"nofollow\">How to Upgrade to React 18: Automatic Batching</a><br>\n<a href=\"https://github.com/reactwg/react-18/discussions/21\" target=\"_blank\" rel=\"nofollow\">Automatic batching for fewer renders in React 18</a><br>\n<a href=\"https://github.com/reactwg/react-18/discussions/5\" target=\"_blank\" rel=\"nofollow\">Replacing render with createRoot</a><br>\n<a href=\"https://react.dev/blog/2022/03/08/react-18-upgrade-guide#updates-to-strict-mode\" target=\"_blank\" rel=\"nofollow\">How to Upgrade to React 18: Updates to Strict Mode</a></p>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#batching-vs-automatic-batching\">Batching vs Automatic Batching</a></p>\n<ul>\n<li>\n<ul>\n<li><a href=\"#batching%EC%9D%B4%EB%9D%BC%EB%8A%94%EA%B2%8C-%EB%AD%98%EA%B9%8C\">Batchingì´ë¼ëŠ”ê²Œ ë­˜ê¹Œ?</a></li>\n<li><a href=\"#%EA%B8%B0%EC%A1%B4%EC%97%94-%EC%96%B4%EB%96%BB%EA%B2%8C-%EB%8F%99%EC%9E%91%ED%96%88%EA%B8%B8%EB%9E%98\">ê¸°ì¡´ì—” ì–´ë–»ê²Œ ë™ì‘í–ˆê¸¸ë˜..?</a></li>\n<li><a href=\"#%EA%B7%B8%EB%9F%BC-react18%EC%97%90%EC%84%9C%EB%8A%94-%EC%96%B4%EB%96%BB%EA%B2%8C-%EB%8F%99%EC%9E%91%ED%95%A0%EA%B9%8C\">ê·¸ëŸ¼ React18ì—ì„œëŠ” ì–´ë–»ê²Œ ë™ì‘í• ê¹Œ?</a></li>\n<li><a href=\"#react18%EC%97%90%EC%84%9C-%EC%B6%94%EA%B0%80%EB%90%9C-%EA%B2%8C-%EB%AC%B4%EC%97%87%EC%9D%B4%EA%B8%B8%EB%9E%98-automatic-batching%EC%9D%B4-%EA%B0%80%EB%8A%A5%ED%95%B4%EC%A7%84%EA%B1%B8%EA%B9%8C\">React18ì—ì„œ ì¶”ê°€ëœ ê²Œ ë¬´ì—‡ì´ê¸¸ë˜, Automatic batchingì´ ê°€ëŠ¥í•´ì§„ê±¸ê¹Œ?</a></li>\n<li><a href=\"#createroot%EA%B0%80-%EC%B6%94%EA%B0%80%EB%90%9C-%EC%9D%B4%EC%9C%A0\">createRootê°€ ì¶”ê°€ëœ ì´ìœ ..?</a></li>\n<li><a href=\"#%EB%A7%8C%EC%95%BD-%EA%B0%95%EC%A0%9C%EB%A1%9C-%EB%8B%A4%EC%8B%9C-%EA%B0%81%EA%B0%81%EC%9D%98-%EB%A6%AC%EB%A0%8C%EB%8D%94%EB%A7%81%EC%9D%84-%EC%9C%A0%EB%B0%9C%ED%95%98%EA%B3%A0-%EC%8B%B6%EB%8B%A4%EB%A9%B4\">ë§Œì•½ ê°•ì œë¡œ ë‹¤ì‹œ ê°ê°ì˜ ë¦¬ë Œë”ë§ì„ ìœ ë°œí•˜ê³  ì‹¶ë‹¤ë©´?</a></li>\n<li><a href=\"#useeffect%EA%B0%80-%EB%91%90-%EB%B2%88-%EB%A0%8C%EB%8D%94%EB%A7%81-%EB%90%98%EB%8A%94-%EC%9D%B4%EC%9C%A0\">useEffectê°€ ë‘ ë²ˆ ë Œë”ë§ ë˜ëŠ” ì´ìœ </a></li>\n<li><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\">ë§ˆì¹˜ë©°</a></li>\n<li><a href=\"#%EC%B0%B8%EA%B3%A0%EC%9E%90%EB%A3%8C\">ì°¸ê³ ìë£Œ</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>","frontmatter":{"title":"Reactì˜ automatic batching","summary":"React 18ì˜ automatic batchingì— ëŒ€í•´ ì•Œì•„ë³´ì","date":"2024.03.03.","categories":["ê°œë°œ"]}}}]}},"pageContext":{"slug":"/blog/2024/2/29/react-dev/"}},"staticQueryHashes":["1629908903"]}