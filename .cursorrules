# 스크랩 추가 자동화 규칙

## 스크랩 추가 요청 처리

사용자가 다음 중 하나의 패턴으로 요청하면 자동으로 스크랩을 추가해야 합니다:
- "스크랩 추가해줘"
- "스크랩 추가"
- "링크 추가해줘"
- "링크 추가"
- "이거 스크랩해줘"
- "스크랩: [링크]"
- URL이 포함된 메시지

## 자동 처리 워크플로우

1. **링크 추출**: 사용자 메시지에서 URL을 찾아 추출
2. **제목 가져오기**: curl을 사용하여 링크에서 제목 자동 추출
   - `<title>` 태그 또는 `og:title` 메타 태그에서 제목 가져오기
3. **스크랩 파일 찾기**: 
   - 현재 날짜 기준으로 `contents/blog/YYYY/MM/11월 스크랩.md` 파일 찾기
   - 파일이 없으면 사용자에게 알림
4. **포맷에 맞게 추가**:
   ```
   ### YYYY-MM-DD
   
   [제목](링크)
   ```
   - 파일 끝에 `<br/>` 후 새 항목 추가
5. **Git 작업**:
   - 새 브랜치 생성: `add-scrap-{timestamp}`
   - 변경사항 커밋: `git add [파일] && git commit -m "Add scrap link: [제목]"`
   - 푸시: `git push -u origin [브랜치명]`
6. **PR 링크 생성**: scrap 브랜치로 머지할 수 있는 PR 링크 표시

## 스크랩 파일 포맷

스크랩 파일은 다음 형식을 따릅니다:
- 날짜 헤더: `### YYYY-MM-DD`
- 링크: `[제목](URL)`
- 메모(선택): `- 메모 내용`
- 섹션 구분: `<br/>`

## 중요 사항

- 항상 현재 날짜의 스크랩 파일을 사용
- 링크에서 제목을 자동으로 가져오되, 실패 시 사용자에게 수동 입력 요청
- scrap 브랜치로 머지할 수 있는 PR을 생성해야 함
- 사용자가 구체적인 설명 없이 "스크랩 추가해줘"라고만 해도 자동으로 처리
- URL이 포함되어 있으면 자동으로 스크랩 추가 작업 시작

## 예시

사용자: "스크랩 추가해줘: https://example.com/article"
→ 자동으로 링크 추출, 제목 가져오기, 파일 추가, 커밋, 푸시, PR 링크 표시

사용자: "https://velog.io/@user/post"
→ URL만 있어도 자동으로 스크랩 추가 작업 시작
